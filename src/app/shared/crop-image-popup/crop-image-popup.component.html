<div class="modal-header">
  <h5 class="modal-title">Crop Image</h5>
  <button type="button" class="btn-close" aria-label="Close" (click)="onClose()"></button>
</div>
<div class="modal-body">
  <div *ngIf="imageUrl" class="d-flex flex-column align-items-center">
    <image-cropper
      [imageBase64]="imageUrl"
      [maintainAspectRatio]="true"
      [aspectRatio]="1/1"
      [resizeToWidth]="300"
      format="png"
      (imageCropped)="onImageCropped($event)"
      (imageLoaded)="onImageLoaded()"
      (cropperReady)="onCropperReady()"
      (loadImageFailed)="onLoadImageFailed()">
    </image-cropper>
    <div *ngIf="croppedImage" class="mt-3">
      <img [src]="croppedImage" alt="Cropped Preview" style="max-width: 200px; max-height: 200px; border-radius: 8px;" />
    </div>
  </div>
</div>
<div class="modal-footer d-flex justify-content-end">
  <button type="button" class="btn btn-secondary me-2" (click)="onClose()">Cancel</button>
  <button type="button" class="btn btn-primary" [disabled]="!croppedImage" (click)="onCropConfirm()">Crop & Save</button>
</div>
