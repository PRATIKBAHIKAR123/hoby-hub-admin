"use strict";(self.webpackChunkvelzon=self.webpackChunkvelzon||[]).push([[727],{8727:(ci,O,g)=>{g.r(O),g.d(O,{ActivitiesModule:()=>ri});var f=g(6814),M=g(7815),e=g(5879),b=g(7586),v=g(9301),r=g(6223),Y=g(5178);let $=(()=>{class n{filterAds(t){this.selectedStatus=t}constructor(t,o){this.router=t,this.modalService=o,this.selectedStatus="All",this.columnDefs=[{field:"id",headerName:"ID",sortable:!0,filter:!0},{field:"categoryName",headerName:"Created By",sortable:!0,filter:!0},{field:"title",headerName:"Title",sortable:!0,filter:!0},{field:"status",headerName:"Type"},{field:"title",headerName:"Session",sortable:!0,filter:!0},{field:"title",headerName:"Age",sortable:!0,filter:!0},{field:"title",headerName:"Rate",sortable:!0,filter:!0},{field:"title",headerName:"City",sortable:!0,filter:!0},{field:"createdDate",headerName:"Posted Date & Time",sortable:!0,filter:!0,valueFormatter:i=>new Date(i.value).toLocaleDateString()},{field:"createdDate",headerName:"Approved Date & Time",sortable:!0,filter:!0,valueFormatter:i=>new Date(i.value).toLocaleDateString()},{field:"status",headerName:"Status",cellRenderer:i=>'<span class="badge bg-success">Approved</span>'},{field:"action",headerName:"Action",cellRenderer:i=>'\n          <div class="d-flex gap-2 align-items-center">\n          <i width="16" height="16" class="ri ri-view"/>\n            <img src="assets/images/icons/Edit Square.png" width="16" height="16" class="edit-icon"/>\n            <img src="assets/images/icons/Delete 2.png" width="16" height="16" class="delete-icon"/>\n          </div>\n        '}],this.defaultColDef={flex:1,minWidth:100,resizable:!0},this.rowData=[{id:1,categoryName:"Music",subCategoryName:"Tabla",status:"Approved",createdDate:"2023-10-01"}],this.isLoading=!1}ngOnInit(){this.loadCategories()}loadCategories(){this.isLoading=!0,this.isLoading=!1}onGridReady(t){t.api.sizeColumnsToFit()}onCellClicked(t){if(t.event.target.classList.contains("edit-icon"))this.router.navigate(["/activities/activity-edit",t.data.id]);else if(t.event.target.classList.contains("delete-icon")){const o=this.modalService.open(M.g,{centered:!0,backdrop:"static"});o.componentInstance.title="Delete Category",o.componentInstance.message=`Are you sure you want to delete Category "${t.data.categoryName}"?`,o.result.then(i=>{"delete"===i&&console.log("Deleting Category:",t.data.id)},i=>{console.log("Modal dismissed")})}else this.router.navigate(["/activities/activity-details",t.data.id])}onFilterTextBoxChanged(){(void 0).setGridOption("quickFilterText",document.getElementById("filter-text-box").value)}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(b.F0),e.Y36(v.FF))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-activities"]],decls:33,vars:16,consts:[["id","programs",1,"page"],[1,"row","mt-2"],[1,"col-12"],[1,"page-title-box","d-sm-flex","align-items-center","justify-content-between"],[1,"d-flex","align-items-center","gap-4"],[1,"mb-sm-0"],[1,"p-4"],[1,"d-flex","justify-content-between","gap-2","mb-3"],[1,"col-7"],["role","group","aria-label","Ad status filter",1,"btn-group"],["type","radio","name","statusFilter","id","all","checked","",1,"btn-check",3,"value","ngModel","ngModelChange","change"],["for","all",1,"btn","btn-outline-primary"],["type","radio","name","statusFilter","id","approved",1,"btn-check",3,"value","ngModel","ngModelChange","change"],["for","approved",1,"btn","btn-outline-primary"],["type","radio","name","statusFilter","id","pending",1,"btn-check",3,"value","ngModel","ngModelChange","change"],["for","pending",1,"btn","btn-outline-primary"],["type","radio","name","statusFilter","id","rejected",1,"btn-check",3,"value","ngModel","ngModelChange","change"],["for","rejected",1,"btn","btn-outline-primary"],[1,"row"],[1,"col-6"],["type","text","id","filter-text-box","placeholder","Filter...","oninput","onFilterTextBoxChanged()",1,"form-control"],[1,"page-title-right"],["type","button",1,"btn","btn-primary","waves-effect","waves-light",3,"routerLink"],[1,"ri-add-fill"],[1,"ag-theme-alpine",2,"width","100%","height","500px",3,"columnDefs","defaultColDef","rowData","theme","pagination","paginationPageSize","rowSelection","gridReady","cellClicked"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),e._uU(6,"Total Ads List"),e.qZA()()()()(),e.TgZ(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"input",10),e.NdJ("ngModelChange",function(l){return i.selectedStatus=l})("change",function(){return i.filterAds("All")}),e.qZA(),e.TgZ(12,"label",11),e._uU(13,"All Ads"),e.qZA(),e.TgZ(14,"input",12),e.NdJ("ngModelChange",function(l){return i.selectedStatus=l})("change",function(){return i.filterAds("Approved")}),e.qZA(),e.TgZ(15,"label",13),e._uU(16,"Approved"),e.qZA(),e.TgZ(17,"input",14),e.NdJ("ngModelChange",function(l){return i.selectedStatus=l})("change",function(){return i.filterAds("Pending")}),e.qZA(),e.TgZ(18,"label",15),e._uU(19,"Pending"),e.qZA(),e.TgZ(20,"input",16),e.NdJ("ngModelChange",function(l){return i.selectedStatus=l})("change",function(){return i.filterAds("Rejected")}),e.qZA(),e.TgZ(21,"label",17),e._uU(22,"Rejected"),e.qZA()()(),e.TgZ(23,"div",18)(24,"div",19),e._UZ(25,"input",20),e.qZA(),e.TgZ(26,"div",19)(27,"div",21)(28,"button",22)(29,"span"),e._UZ(30,"i",23),e._uU(31,"Post New Ad"),e.qZA()()()()()(),e.TgZ(32,"ag-grid-angular",24),e.NdJ("gridReady",function(l){return i.onGridReady(l)})("cellClicked",function(l){return i.onCellClicked(l)}),e.qZA()()()),2&o&&(e.xp6(11),e.Q6J("value","All")("ngModel",i.selectedStatus),e.xp6(3),e.Q6J("value","Approved")("ngModel",i.selectedStatus),e.xp6(3),e.Q6J("value","Pending")("ngModel",i.selectedStatus),e.xp6(3),e.Q6J("value","Rejected")("ngModel",i.selectedStatus),e.xp6(8),e.Q6J("routerLink","/activities/register-new-vendor"),e.xp6(4),e.Q6J("columnDefs",i.columnDefs)("defaultColDef",i.defaultColDef)("rowData",i.rowData)("theme","legacy")("pagination",!0)("paginationPageSize",10)("rowSelection","single"))},dependencies:[r.Fj,r._,r.JJ,r.On,Y.N8,b.rH]})}return n})();var H=g(6208),E=g(4402),z=g(5861);function W(n,a){1&n&&(e.TgZ(0,"div",22),e._uU(1,"First name is required"),e.qZA())}function B(n,a){1&n&&(e.TgZ(0,"div",22),e._uU(1,"Last name is required"),e.qZA())}function X(n,a){1&n&&(e.TgZ(0,"div",22),e._uU(1,"Valid email is required"),e.qZA())}function ee(n,a){1&n&&(e.TgZ(0,"div",22),e._uU(1,"Valid phone is required"),e.qZA())}function te(n,a){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"img",23),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("src",t.images[0],e.LSH)}}let ie=(()=>{class n{constructor(t,o){this.fb=t,this.activeModal=o,this.close=new e.vpe,this.submit=new e.vpe,this.isSubmitting=!1,this.wasSubmitted=!1,this.useSameNumber=!1,this.useProfileDetails=!1,this.images=[],this.contactForm=this.fb.group({tutorFirstName:["",r.kI.required],tutorLastName:["",r.kI.required],tutorEmailID:["",[r.kI.required,r.kI.email]],tutorPhoneNo:["",[r.kI.required,r.kI.minLength(8)]],tutorCountryCode:["+91"],thatsappNo:[""],whatsappCountryCode:["+91"],tutorIntro:[""],profilePhoto:[""]})}ngOnChanges(){}onUseProfileDetailsChange(t){const o=t.target.checked;this.useProfileDetails=o,o&&this.profileDetails?this.contactForm.patchValue({tutorFirstName:this.profileDetails.firstName,tutorLastName:this.profileDetails.lastName,tutorEmailID:this.profileDetails.emailId,tutorPhoneNo:this.profileDetails.phoneNumber,thatsappNo:this.profileDetails.phoneNumber,whatsappCountryCode:"+91"}):o||this.contactForm.patchValue({tutorFirstName:"",tutorLastName:"",tutorEmailID:"",tutorPhoneNo:"",thatsappNo:"",whatsappCountryCode:"+91"})}onUseSameNumberChange(t){const o=t.target.checked;this.useSameNumber=o,o&&this.contactForm.patchValue({thatsappNo:this.contactForm.get("tutorPhoneNo")?.value})}onPhoneChange(t,o){this.contactForm.get(o)?.setValue(t.target.value),this.useSameNumber&&"tutorPhoneNo"===o&&this.contactForm.get("thatsappNo")?.setValue(t.target.value)}onFileChange(t){const o=t.target.files;if(o&&o.length>0){const i=new FileReader;i.onload=s=>{this.images=[s.target.result],this.contactForm.get("profilePhoto")?.setValue(s.target.result)},i.readAsDataURL(o[0])}}onSubmit(){var t=this;return(0,z.Z)(function*(){if(t.wasSubmitted=!0,t.contactForm.invalid)return;t.isSubmitting=!0;const o={...t.contactForm.value,id:Date.now().toString(),contactType:{primary:!0,secondary:!1,billing:!1}};t.submit.emit(o),t.isSubmitting=!1,t.close.emit(),t.activeModal.dismiss()})()}onCancel(){this.close.emit(),this.activeModal.dismiss()}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(r.qu),e.Y36(v.Kz))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-contact-popup"]],inputs:{profileDetails:"profileDetails"},outputs:{close:"close",submit:"submit"},features:[e.TTD],decls:62,vars:16,consts:[[1,"modal-header"],[3,"formGroup","ngSubmit"],[1,"modal-body"],[1,"form-group"],["type","checkbox",3,"checked","change"],[1,"row","g-4"],[1,"col-md-6"],[1,"form-label"],[1,"text-danger"],["formControlName","tutorFirstName",1,"form-control",3,"disabled"],["class","invalid-feedback",4,"ngIf"],["formControlName","tutorLastName",1,"form-control",3,"disabled"],["formControlName","tutorEmailID",1,"form-control",3,"disabled"],["formControlName","tutorPhoneNo",1,"form-control",3,"disabled","input"],["formControlName","thatsappNo",1,"form-control",3,"disabled","input"],["type","checkbox",3,"checked","disabled","change"],["formControlName","tutorIntro",1,"form-control"],["type","file","accept",".jpeg, .jpg",1,"form-control",3,"change"],[4,"ngIf"],[1,"actions","d-flex","justify-content-end","gap-3","mt-3"],["type","button",1,"btn","btn-success","px-5","py-2",3,"click"],["type","submit",1,"btn","btn-primary","px-5","py-2",3,"disabled"],[1,"invalid-feedback"],["alt","Profile",2,"max-width","100px","max-height","100px",3,"src"]],template:function(o,i){if(1&o&&(e.TgZ(0,"div",0)(1,"h2"),e._uU(2,"Contact Details"),e.qZA()(),e.TgZ(3,"form",1),e.NdJ("ngSubmit",function(){return i.onSubmit()}),e.TgZ(4,"div",2)(5,"div",3)(6,"label")(7,"input",4),e.NdJ("change",function(l){return i.onUseProfileDetailsChange(l)}),e.qZA(),e._uU(8," Use same details as Profile "),e.qZA()(),e.TgZ(9,"div",5)(10,"div",6)(11,"label",7),e._uU(12,"First Name "),e.TgZ(13,"span",8),e._uU(14,"*"),e.qZA()(),e._UZ(15,"input",9),e.YNc(16,W,2,0,"div",10),e.qZA(),e.TgZ(17,"div",6)(18,"label",7),e._uU(19,"Last Name "),e.TgZ(20,"span",8),e._uU(21,"*"),e.qZA()(),e._UZ(22,"input",11),e.YNc(23,B,2,0,"div",10),e.qZA()(),e.TgZ(24,"div",5)(25,"div",6)(26,"label",7),e._uU(27,"Email "),e.TgZ(28,"span",8),e._uU(29,"*"),e.qZA()(),e._UZ(30,"input",12),e.YNc(31,X,2,0,"div",10),e.qZA(),e.TgZ(32,"div",6)(33,"label",7),e._uU(34,"Phone Number "),e.TgZ(35,"span",8),e._uU(36,"*"),e.qZA()(),e.TgZ(37,"input",13),e.NdJ("input",function(l){return i.onPhoneChange(l,"tutorPhoneNo")}),e.qZA(),e.YNc(38,ee,2,0,"div",10),e.qZA(),e.TgZ(39,"div",6)(40,"label",7),e._uU(41,"WhatsApp Number"),e.qZA(),e.TgZ(42,"input",14),e.NdJ("input",function(l){return i.onPhoneChange(l,"thatsappNo")}),e.qZA(),e.TgZ(43,"label",7)(44,"input",15),e.NdJ("change",function(l){return i.onUseSameNumberChange(l)}),e.qZA(),e._uU(45," Use same number as contact number "),e.qZA()()(),e.TgZ(46,"div")(47,"label",7),e._uU(48,"Introduction"),e.qZA(),e._UZ(49,"textarea",16),e.qZA(),e.TgZ(50,"div")(51,"label",7),e._uU(52,"Profile photo"),e.qZA(),e.TgZ(53,"input",17),e.NdJ("change",function(l){return i.onFileChange(l)}),e.qZA(),e.YNc(54,te,2,1,"div",18),e.TgZ(55,"small"),e._uU(56,"Only support jpg, png and avif files"),e.qZA()(),e.TgZ(57,"div",19)(58,"button",20),e.NdJ("click",function(){return i.onCancel()}),e._uU(59,"Cancel"),e.qZA(),e.TgZ(60,"button",21),e._uU(61),e.qZA()()()()),2&o){let s,l,c,u;e.xp6(3),e.Q6J("formGroup",i.contactForm),e.xp6(4),e.Q6J("checked",i.useProfileDetails),e.xp6(8),e.Q6J("disabled",i.useProfileDetails),e.xp6(1),e.Q6J("ngIf",i.wasSubmitted&&(null==(s=i.contactForm.get("tutorFirstName"))?null:s.invalid)),e.xp6(6),e.Q6J("disabled",i.useProfileDetails),e.xp6(1),e.Q6J("ngIf",i.wasSubmitted&&(null==(l=i.contactForm.get("tutorLastName"))?null:l.invalid)),e.xp6(7),e.Q6J("disabled",i.useProfileDetails),e.xp6(1),e.Q6J("ngIf",i.wasSubmitted&&(null==(c=i.contactForm.get("tutorEmailID"))?null:c.invalid)),e.xp6(6),e.Q6J("disabled",i.useProfileDetails),e.xp6(1),e.Q6J("ngIf",i.wasSubmitted&&(null==(u=i.contactForm.get("tutorPhoneNo"))?null:u.invalid)),e.xp6(4),e.Q6J("disabled",i.useSameNumber||i.useProfileDetails),e.xp6(2),e.Q6J("checked",i.useSameNumber)("disabled",i.useProfileDetails),e.xp6(10),e.Q6J("ngIf",i.images.length),e.xp6(6),e.Q6J("disabled",i.isSubmitting),e.xp6(1),e.Oqu(i.isSubmitting?"Saving...":"Save")}},dependencies:[f.O5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u],styles:[".invalid-feedback[_ngcontent-%COMP%]{display:block;color:red;font-size:.875rem}"]})}return n})();var C=g(8433),oe=g(4460),ne=g(9862),j=g(2150);const se=["mapContainer"],ae=["searchInput"];function le(n,a){1&n&&(e.TgZ(0,"div",27),e._uU(1,"Address is required"),e.qZA())}function re(n,a){1&n&&(e.TgZ(0,"div",27),e._uU(1,"Road is required"),e.qZA())}function ce(n,a){1&n&&(e.TgZ(0,"div",27),e._uU(1,"Area is required"),e.qZA())}function ue(n,a){1&n&&(e.TgZ(0,"div",27),e._uU(1,"City is required"),e.qZA())}let de=(()=>{class n{constructor(t,o,i){this.fb=t,this.activeModal=o,this.http=i,this.wasSubmitted=!1,this.isSubmitting=!1,this.selectedPlace=null,this.icon={icon:C.icon({iconSize:[25,41],iconAnchor:[13,0],iconUrl:"assets/images/icons/marker.png"})},this.leafletOptions={layers:[(0,C.tileLayer)("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"\xa9 OpenStreetMap contributors"})],zoom:13,center:(0,C.latLng)(19.076,72.8777)},this.googleApiKey=oe.R.GOOGLE_MAPS_API_KEY,this.locationForm=this.fb.group({search:[""],address:["",r.kI.required],road:["",r.kI.required],area:["",r.kI.required],city:["",r.kI.required],state:[""],country:[""],pincode:[""]})}ngOnInit(){}ngAfterViewInit(){window.google&&this.searchInput&&setTimeout(()=>{const t=new google.maps.places.Autocomplete(this.searchInput.nativeElement,{});t.addListener("place_changed",()=>{console.log("Place changed");const o=t.getPlace();if(o&&o.geometry){const i=o.geometry.location;this.selectedPlace={lat:i.lat(),lng:i.lng()},this.locationForm.patchValue({latitude:i.lat(),longitude:i.lng(),search:o.formatted_address}),this.fillAddressFields(o),this.leafletMap&&(this.leafletMarker&&this.leafletMap.removeLayer(this.leafletMarker),this.leafletMarker=(0,C.marker)([i.lat(),i.lng()]).addTo(this.leafletMap),this.leafletMap.setView([i.lat(),i.lng()],16))}})},0)}onMapReady(t){this.leafletMap=t}onMapClick(t){const o=t.latlng;this.leafletMarker&&this.leafletMap.removeLayer(this.leafletMarker),this.leafletMarker=(0,C.marker)([o.lat,o.lng],this.icon).addTo(this.leafletMap),this.locationForm.patchValue({latitude:o.lat,longitude:o.lng}),this.selectedPlace={lat:o.lat,lng:o.lng},this.reverseGeocode(o.lat,o.lng)}onSearchInput(t){}onSearchLocation(){const t=this.locationForm.get("search")?.value;t?this.geocodeAddress(t):this.selectedPlace&&this.reverseGeocode(this.selectedPlace.lat,this.selectedPlace.lng)}geocodeAddress(t){const o=`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(t)}&key=${this.googleApiKey}`;this.http.get(o).subscribe(i=>{if("OK"===i.status&&i.results.length>0){const s=i.results[0],l=s.geometry.location;this.locationForm.patchValue({latitude:l.lat,longitude:l.lng}),this.fillAddressFields(s),this.leafletMap&&(this.leafletMarker&&this.leafletMap.removeLayer(this.leafletMarker),this.leafletMarker=(0,C.marker)([l.lat,l.lng]).addTo(this.leafletMap),this.leafletMap.setView([l.lat,l.lng],16))}})}reverseGeocode(t,o){this.http.get(`https://maps.googleapis.com/maps/api/geocode/json?latlng=${t},${o}&key=${this.googleApiKey}`).subscribe(s=>{"OK"===s.status&&s.results.length>0&&this.fillAddressFields(s.results[0])})}fillAddressFields(t){let o="",i="",s="",l="",c="",u="",m="";const p=t.address_components||t.addressComponents||[];for(const d of p)d.types.includes("street_number")&&(o=d.long_name+" "+o),d.types.includes("route")&&(i=d.long_name),(d.types.includes("sublocality")||d.types.includes("sublocality_level_1"))&&(s=d.long_name),d.types.includes("locality")&&(l=d.long_name),d.types.includes("administrative_area_level_1")&&(c=d.long_name),d.types.includes("country")&&(u=d.long_name),d.types.includes("postal_code")&&(m=d.long_name);this.locationForm.patchValue({address:o.trim()||t.formatted_address||t.name,road:i,area:s,city:l,state:c,country:u,pincode:m})}onSubmit(){this.wasSubmitted=!0,!this.locationForm.invalid&&(this.isSubmitting=!0,setTimeout(()=>{this.isSubmitting=!1,this.activeModal.close(this.locationForm.value)},1e3))}onCancel(){this.activeModal.dismiss("cancel")}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(r.qu),e.Y36(v.Kz),e.Y36(ne.eN))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-location-popup"]],viewQuery:function(o,i){if(1&o&&(e.Gf(se,5),e.Gf(ae,7)),2&o){let s;e.iGM(s=e.CRH())&&(i.mapContainer=s.first),e.iGM(s=e.CRH())&&(i.searchInput=s.first)}},decls:64,vars:10,consts:[[1,"modal-header"],[3,"formGroup","ngSubmit"],[1,"modal-body"],[1,"form-group"],[1,"form-label"],["formControlName","search","placeholder","Search for a location",1,"form-control",3,"input"],["searchInput",""],["type","button",1,"btn","btn-primary","w-100","mt-2",3,"disabled","click"],[1,"form-group","mb-3"],[1,"w-100",2,"height","420px","min-width","300px","border-radius","8px","box-shadow","0 2px 8px rgba(0,0,0,0.1)"],["mapContainer",""],["leaflet","",2,"height","100%","width","100%","border-radius","8px",3,"leafletOptions","leafletMapReady","leafletClick"],[1,"form-section","border","rounded","p-3"],[1,"row"],[1,"col-md-6","mb-3"],[1,"text-danger"],["formControlName","address","placeholder","Address",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["formControlName","road","placeholder","Road",1,"form-control"],["formControlName","area","placeholder","Area",1,"form-control"],["formControlName","city","placeholder","City",1,"form-control"],["formControlName","state","placeholder","State",1,"form-control"],["formControlName","country","placeholder","Country",1,"form-control"],["formControlName","pincode","placeholder","Pincode",1,"form-control"],[1,"actions","d-flex","justify-content-end","gap-2","mt-4"],["type","button",1,"btn","btn-outline-secondary",3,"disabled","click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"invalid-feedback"]],template:function(o,i){if(1&o&&(e.TgZ(0,"div",0)(1,"h2"),e._uU(2,"Add Location"),e.qZA()(),e.TgZ(3,"form",1),e.NdJ("ngSubmit",function(){return i.onSubmit()}),e.TgZ(4,"div",2)(5,"div",3)(6,"label",4),e._uU(7,"Search for a location"),e.qZA(),e.TgZ(8,"input",5,6),e.NdJ("input",function(l){return i.onSearchInput(l)}),e.qZA()(),e.TgZ(10,"div")(11,"button",7),e.NdJ("click",function(){return i.onSearchLocation()}),e._uU(12,"Search By Location"),e.qZA()(),e.TgZ(13,"div",8)(14,"div",9,10)(16,"div",11),e.NdJ("leafletMapReady",function(l){return i.onMapReady(l)})("leafletClick",function(l){return i.onMapClick(l)}),e.qZA()()(),e.TgZ(17,"div",12)(18,"div",13)(19,"div",14)(20,"label",4),e._uU(21,"Address "),e.TgZ(22,"span",15),e._uU(23,"*"),e.qZA()(),e._UZ(24,"input",16),e.YNc(25,le,2,0,"div",17),e.qZA(),e.TgZ(26,"div",14)(27,"label",4),e._uU(28,"Road "),e.TgZ(29,"span",15),e._uU(30,"*"),e.qZA()(),e._UZ(31,"input",18),e.YNc(32,re,2,0,"div",17),e.qZA(),e.TgZ(33,"div",14)(34,"label",4),e._uU(35,"Area "),e.TgZ(36,"span",15),e._uU(37,"*"),e.qZA()(),e._UZ(38,"input",19),e.YNc(39,ce,2,0,"div",17),e.qZA(),e.TgZ(40,"div",14)(41,"label",4),e._uU(42,"City "),e.TgZ(43,"span",15),e._uU(44,"*"),e.qZA()(),e._UZ(45,"input",20),e.YNc(46,ue,2,0,"div",17),e.qZA(),e.TgZ(47,"div",14)(48,"label",4),e._uU(49,"State"),e.qZA(),e._UZ(50,"input",21),e.qZA(),e.TgZ(51,"div",14)(52,"label",4),e._uU(53,"Country"),e.qZA(),e._UZ(54,"input",22),e.qZA(),e.TgZ(55,"div",14)(56,"label",4),e._uU(57,"Pincode"),e.qZA(),e._UZ(58,"input",23),e.qZA()()(),e.TgZ(59,"div",24)(60,"button",25),e.NdJ("click",function(){return i.onCancel()}),e._uU(61,"Cancel"),e.qZA(),e.TgZ(62,"button",26),e._uU(63),e.qZA()()()()),2&o){let s,l,c,u;e.xp6(3),e.Q6J("formGroup",i.locationForm),e.xp6(8),e.Q6J("disabled",!i.selectedPlace),e.xp6(5),e.Q6J("leafletOptions",i.leafletOptions),e.xp6(9),e.Q6J("ngIf",i.wasSubmitted&&(null==(s=i.locationForm.get("address"))?null:s.invalid)),e.xp6(7),e.Q6J("ngIf",i.wasSubmitted&&(null==(l=i.locationForm.get("road"))?null:l.invalid)),e.xp6(7),e.Q6J("ngIf",i.wasSubmitted&&(null==(c=i.locationForm.get("area"))?null:c.invalid)),e.xp6(7),e.Q6J("ngIf",i.wasSubmitted&&(null==(u=i.locationForm.get("city"))?null:u.invalid)),e.xp6(14),e.Q6J("disabled",i.isSubmitting),e.xp6(2),e.Q6J("disabled",i.isSubmitting),e.xp6(1),e.Oqu(i.isSubmitting?"Saving...":"Save Location")}},dependencies:[f.O5,r._Y,r.Fj,r.JJ,r.JL,j.je,r.sg,r.u],styles:[".invalid-feedback[_ngcontent-%COMP%]{display:block;color:red;font-size:.875rem}"]})}return n})();var pe=g(5391);function me(n,a){if(1&n&&(e.TgZ(0,"div",11),e._UZ(1,"img",12),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("src",t.croppedImage,e.LSH)}}function ge(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",8)(1,"image-cropper",9),e.NdJ("imageCropped",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.onImageCropped(i))})("imageLoaded",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onImageLoaded())})("cropperReady",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onCropperReady())})("loadImageFailed",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onLoadImageFailed())}),e.qZA(),e.YNc(2,me,2,1,"div",10),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("imageBase64",t.imageUrl)("maintainAspectRatio",!0)("aspectRatio",1)("resizeToWidth",300),e.xp6(1),e.Q6J("ngIf",t.croppedImage)}}let _e=(()=>{class n{constructor(){this.imageUrl="",this.cropComplete=new e.vpe,this.close=new e.vpe,this.croppedImage=null}onImageCropped(t){this.croppedImage=t.base64||null}onCropConfirm(){if(this.croppedImage){const t=this.base64ToFile(this.croppedImage,"cropped.png");this.cropComplete.emit(t)}}onClose(){this.close.emit()}onImageLoaded(){}onCropperReady(){}onLoadImageFailed(){this.croppedImage=null}base64ToFile(t,o){const i=t.split(","),s=i[0].match(/:(.*?);/),l=s?s[1]:"",c=atob(i[1]),u=c.length,m=new Uint8Array(u);for(let p=0;p<u;p++)m[p]=c.charCodeAt(p);return new File([m],o,{type:l})}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-crop-image-popup"]],inputs:{imageUrl:"imageUrl"},outputs:{cropComplete:"cropComplete",close:"close"},decls:11,vars:2,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["class","d-flex flex-column align-items-center",4,"ngIf"],[1,"modal-footer","d-flex","justify-content-end"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"d-flex","flex-column","align-items-center"],["format","png",3,"imageBase64","maintainAspectRatio","aspectRatio","resizeToWidth","imageCropped","imageLoaded","cropperReady","loadImageFailed"],["class","mt-3",4,"ngIf"],[1,"mt-3"],["alt","Cropped Preview",2,"max-width","200px","max-height","200px","border-radius","8px",3,"src"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"h5",1),e._uU(2,"Crop Image"),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return i.onClose()}),e.qZA()(),e.TgZ(4,"div",3),e.YNc(5,ge,3,5,"div",4),e.qZA(),e.TgZ(6,"div",5)(7,"button",6),e.NdJ("click",function(){return i.onClose()}),e._uU(8,"Cancel"),e.qZA(),e.TgZ(9,"button",7),e.NdJ("click",function(){return i.onCropConfirm()}),e._uU(10,"Crop & Save"),e.qZA()()),2&o&&(e.xp6(5),e.Q6J("ngIf",i.imageUrl),e.xp6(4),e.Q6J("disabled",!i.croppedImage))},dependencies:[f.O5,pe.ap]})}return n})();function he(n,a){if(1&n&&(e.TgZ(0,"li",5)(1,"b"),e._uU(2,"Profile Image:"),e.qZA(),e._UZ(3,"br")(4,"img",12),e.qZA()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("src",t.profileImage,e.LSH)}}function fe(n,a){1&n&&e._UZ(0,"img",15),2&n&&e.Q6J("src",a.$implicit,e.LSH)}function ve(n,a){if(1&n&&(e.TgZ(0,"li",5)(1,"b"),e._uU(2,"Institute Images:"),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"div",13),e.YNc(5,fe,1,1,"img",14),e.qZA()()),2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.images)}}function Ze(n,a){1&n&&(e.TgZ(0,"h5"),e._uU(1,"Class Details"),e.qZA())}function Ae(n,a){if(1&n&&(e.TgZ(0,"div",16)(1,"ul",17)(2,"li",5)(3,"b"),e._uU(4,"Class Name:"),e.qZA(),e._uU(5),e.qZA(),e.TgZ(6,"li",5)(7,"b"),e._uU(8,"Category:"),e.qZA(),e._uU(9),e.qZA(),e.TgZ(10,"li",5)(11,"b"),e._uU(12,"Sub Category:"),e.qZA(),e._uU(13),e.qZA(),e.TgZ(14,"li",5)(15,"b"),e._uU(16,"Timings:"),e.qZA(),e._uU(17),e.qZA(),e.TgZ(18,"li",5)(19,"b"),e._uU(20,"Weekdays:"),e.qZA(),e._uU(21),e.qZA(),e.TgZ(22,"li",5)(23,"b"),e._uU(24,"Age Range:"),e.qZA(),e._uU(25),e.qZA(),e.TgZ(26,"li",5)(27,"b"),e._uU(28,"Cost Range:"),e.qZA(),e._uU(29),e.qZA(),e.TgZ(30,"li",5)(31,"b"),e._uU(32,"Gender:"),e.qZA(),e._uU(33),e.qZA(),e.TgZ(34,"li",5)(35,"b"),e._uU(36,"Experience Level:"),e.qZA(),e._uU(37),e.qZA(),e.TgZ(38,"li",5)(39,"b"),e._uU(40,"No. of Sessions:"),e.qZA(),e._uU(41),e.qZA(),e.TgZ(42,"li",5)(43,"b"),e._uU(44,"Type:"),e.qZA(),e._uU(45),e.qZA(),e.TgZ(46,"li",5)(47,"b"),e._uU(48,"Location:"),e.qZA(),e._uU(49),e.qZA(),e.TgZ(50,"li",5)(51,"b"),e._uU(52,"Contact:"),e.qZA(),e._uU(53),e.qZA()()()),2&n){const t=a.$implicit;e.xp6(5),e.hij(" ",t.className,""),e.xp6(4),e.hij(" ",t.category,""),e.xp6(4),e.hij(" ",t.subCategory,""),e.xp6(4),e.AsE(" ",t.timingsFrom," - ",t.timingsTo,""),e.xp6(4),e.hij(" ",null==t.weekdays?null:t.weekdays.join(", "),""),e.xp6(4),e.AsE(" ",t.fromage," - ",t.toage,""),e.xp6(4),e.AsE(" ",t.fromcost," - ",t.tocost,""),e.xp6(4),e.hij(" ",t.gender,""),e.xp6(4),e.hij(" ",t.experienceLevel,""),e.xp6(4),e.hij(" ",t.noOfSessions,""),e.xp6(4),e.hij(" ",t.type,""),e.xp6(4),e.hij(" ",(null==t.location?null:t.location.address)||t.location,""),e.xp6(4),e.hij(" ",(null==t.contact?null:t.contact.tutorFirstName)||t.contact,"")}}function Te(n,a){1&n&&(e.TgZ(0,"h5"),e._uU(1,"Course Details"),e.qZA())}function be(n,a){if(1&n&&(e.TgZ(0,"div",16)(1,"ul",17)(2,"li",5)(3,"b"),e._uU(4,"Course Name:"),e.qZA(),e._uU(5),e.qZA(),e.TgZ(6,"li",5)(7,"b"),e._uU(8,"Category:"),e.qZA(),e._uU(9),e.qZA(),e.TgZ(10,"li",5)(11,"b"),e._uU(12,"Sub Category:"),e.qZA(),e._uU(13),e.qZA(),e.TgZ(14,"li",5)(15,"b"),e._uU(16,"Timings:"),e.qZA(),e._uU(17),e.qZA(),e.TgZ(18,"li",5)(19,"b"),e._uU(20,"Weekdays:"),e.qZA(),e._uU(21),e.qZA(),e.TgZ(22,"li",5)(23,"b"),e._uU(24,"Age Range:"),e.qZA(),e._uU(25),e.qZA(),e.TgZ(26,"li",5)(27,"b"),e._uU(28,"Cost Range:"),e.qZA(),e._uU(29),e.qZA(),e.TgZ(30,"li",5)(31,"b"),e._uU(32,"Gender:"),e.qZA(),e._uU(33),e.qZA(),e.TgZ(34,"li",5)(35,"b"),e._uU(36,"Experience Level:"),e.qZA(),e._uU(37),e.qZA(),e.TgZ(38,"li",5)(39,"b"),e._uU(40,"No. of Sessions:"),e.qZA(),e._uU(41),e.qZA(),e.TgZ(42,"li",5)(43,"b"),e._uU(44,"Type:"),e.qZA(),e._uU(45),e.qZA(),e.TgZ(46,"li",5)(47,"b"),e._uU(48,"Location:"),e.qZA(),e._uU(49),e.qZA(),e.TgZ(50,"li",5)(51,"b"),e._uU(52,"Contact:"),e.qZA(),e._uU(53),e.qZA()()()),2&n){const t=a.$implicit;e.xp6(5),e.hij(" ",t.courseName,""),e.xp6(4),e.hij(" ",t.category,""),e.xp6(4),e.hij(" ",t.subCategory,""),e.xp6(4),e.AsE(" ",t.timingsFrom," - ",t.timingsTo,""),e.xp6(4),e.hij(" ",null==t.weekdays?null:t.weekdays.join(", "),""),e.xp6(4),e.AsE(" ",t.fromage," - ",t.toage,""),e.xp6(4),e.AsE(" ",t.fromcost," - ",t.tocost,""),e.xp6(4),e.hij(" ",t.gender,""),e.xp6(4),e.hij(" ",t.experienceLevel,""),e.xp6(4),e.hij(" ",t.noOfSessions,""),e.xp6(4),e.hij(" ",t.type,""),e.xp6(4),e.hij(" ",(null==t.location?null:t.location.address)||t.location,""),e.xp6(4),e.hij(" ",(null==t.contact?null:t.contact.tutorFirstName)||t.contact,"")}}let Ce=(()=>{class n{constructor(t){this.activeModal=t,this.classDetails=[],this.courseDetails=[],this.images=[],this.profileImage=""}confirm(){this.activeModal.close("confirm")}cancel(){this.activeModal.dismiss("cancel")}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(v.Kz))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-preview-popup"]],inputs:{personalDetails:"personalDetails",instituteDetails:"instituteDetails",classDetails:"classDetails",courseDetails:"courseDetails",images:"images",profileImage:"profileImage"},decls:78,vars:21,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"list-group","mb-3"],[1,"list-group-item"],["class","list-group-item",4,"ngIf"],[4,"ngIf"],["class","mb-2",4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-success",3,"click"],["alt","Profile",2,"max-width","100px","max-height","100px","border-radius","8px","object-fit","cover",3,"src"],[1,"d-flex","flex-wrap","gap-2","mt-2"],["style","width:80px;height:80px;object-fit:cover;border-radius:6px;",3,"src",4,"ngFor","ngForOf"],[2,"width","80px","height","80px","object-fit","cover","border-radius","6px",3,"src"],[1,"mb-2"],[1,"list-group"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2,"Preview Registration"),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return i.cancel()}),e.qZA()(),e.TgZ(4,"div",3)(5,"h5"),e._uU(6,"Personal Details"),e.qZA(),e.TgZ(7,"ul",4)(8,"li",5)(9,"b"),e._uU(10,"Name:"),e.qZA(),e._uU(11),e.qZA(),e.TgZ(12,"li",5)(13,"b"),e._uU(14,"Email:"),e.qZA(),e._uU(15),e.qZA(),e.TgZ(16,"li",5)(17,"b"),e._uU(18,"Phone:"),e.qZA(),e._uU(19),e.qZA(),e.TgZ(20,"li",5)(21,"b"),e._uU(22,"Gender:"),e.qZA(),e._uU(23),e.qZA(),e.TgZ(24,"li",5)(25,"b"),e._uU(26,"Date of Birth:"),e.qZA(),e._uU(27),e.qZA(),e.YNc(28,he,5,1,"li",6),e.qZA(),e.TgZ(29,"h5"),e._uU(30,"Institute Details"),e.qZA(),e.TgZ(31,"ul",4)(32,"li",5)(33,"b"),e._uU(34,"Program Title:"),e.qZA(),e._uU(35),e.qZA(),e.TgZ(36,"li",5)(37,"b"),e._uU(38,"Institute Name:"),e.qZA(),e._uU(39),e.qZA(),e.TgZ(40,"li",5)(41,"b"),e._uU(42,"Since:"),e.qZA(),e._uU(43),e.qZA(),e.TgZ(44,"li",5)(45,"b"),e._uU(46,"GST No:"),e.qZA(),e._uU(47),e.qZA(),e.TgZ(48,"li",5)(49,"b"),e._uU(50,"Introduction:"),e.qZA(),e._uU(51),e.qZA(),e.TgZ(52,"li",5)(53,"b"),e._uU(54,"Website:"),e.qZA(),e._uU(55),e.qZA(),e.TgZ(56,"li",5)(57,"b"),e._uU(58,"Class Level:"),e.qZA(),e._uU(59),e.qZA(),e.TgZ(60,"li",5)(61,"b"),e._uU(62,"Instagram:"),e.qZA(),e._uU(63),e.qZA(),e.TgZ(64,"li",5)(65,"b"),e._uU(66,"YouTube:"),e.qZA(),e._uU(67),e.qZA(),e.YNc(68,ve,6,1,"li",6),e.qZA(),e.YNc(69,Ze,2,0,"h5",7),e.YNc(70,Ae,54,16,"div",8),e.YNc(71,Te,2,0,"h5",7),e.YNc(72,be,54,16,"div",8),e.qZA(),e.TgZ(73,"div",9)(74,"button",10),e.NdJ("click",function(){return i.cancel()}),e._uU(75,"Cancel"),e.qZA(),e.TgZ(76,"button",11),e.NdJ("click",function(){return i.confirm()}),e._uU(77,"Confirm & Submit"),e.qZA()()),2&o&&(e.xp6(11),e.AsE(" ",null==i.personalDetails?null:i.personalDetails.firstName," ",null==i.personalDetails?null:i.personalDetails.lastName,""),e.xp6(4),e.hij(" ",null==i.personalDetails?null:i.personalDetails.emailId,""),e.xp6(4),e.hij(" ",null==i.personalDetails?null:i.personalDetails.phoneNumber,""),e.xp6(4),e.hij(" ",null==i.personalDetails?null:i.personalDetails.gender,""),e.xp6(4),e.hij(" ",null==i.personalDetails?null:i.personalDetails.dob,""),e.xp6(1),e.Q6J("ngIf",i.profileImage),e.xp6(7),e.hij(" ",null==i.instituteDetails?null:i.instituteDetails.programTitle,""),e.xp6(4),e.hij(" ",null==i.instituteDetails?null:i.instituteDetails.instituteName,""),e.xp6(4),e.hij(" ",null==i.instituteDetails?null:i.instituteDetails.since,""),e.xp6(4),e.hij(" ",null==i.instituteDetails?null:i.instituteDetails.gstNo,""),e.xp6(4),e.hij(" ",null==i.instituteDetails?null:i.instituteDetails.introduction,""),e.xp6(4),e.hij(" ",null==i.instituteDetails?null:i.instituteDetails.websiteName,""),e.xp6(4),e.hij(" ",null==i.instituteDetails?null:i.instituteDetails.classLevel,""),e.xp6(4),e.hij(" ",null==i.instituteDetails?null:i.instituteDetails.instagramAccount,""),e.xp6(4),e.hij(" ",null==i.instituteDetails?null:i.instituteDetails.youtubeAccount,""),e.xp6(1),e.Q6J("ngIf",null==i.images?null:i.images.length),e.xp6(1),e.Q6J("ngIf",null==i.classDetails?null:i.classDetails.length),e.xp6(1),e.Q6J("ngForOf",i.classDetails),e.xp6(1),e.Q6J("ngIf",null==i.courseDetails?null:i.courseDetails.length),e.xp6(1),e.Q6J("ngForOf",i.courseDetails))},dependencies:[f.sg,f.O5],styles:[".modal-header[_ngcontent-%COMP%]{border-bottom:1px solid #e9ecef}.modal-title[_ngcontent-%COMP%]{font-weight:600}.list-group-item[_ngcontent-%COMP%]{font-size:15px}img[_ngcontent-%COMP%]{box-shadow:0 2px 8px #00000014}"]})}return n})();var V=g(553),R=g(9941),qe=g(2425);const ye=["profileImageInput"],Ue=["fileInput"],xe=["addDetailsmodal"];function Ne(n,a){1&n&&e._UZ(0,"i",69)}function De(n,a){1&n&&(e.TgZ(0,"div",70),e._uU(1," First name is required "),e.qZA())}function Fe(n,a){1&n&&(e.TgZ(0,"div",70),e._uU(1," Last name is required "),e.qZA())}function Ie(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"Phone number is required"),e.qZA())}function we(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"Invalid phone number"),e.qZA())}function Je(n,a){if(1&n&&(e.TgZ(0,"div",71),e.YNc(1,Ie,2,0,"span",36),e.YNc(2,we,2,0,"span",36),e.qZA()),2&n){const t=e.oxw();let o,i;e.xp6(1),e.Q6J("ngIf",null==(o=t.personalForm.get("phoneNumber"))||null==o.errors?null:o.errors.required),e.xp6(1),e.Q6J("ngIf",null==(i=t.personalForm.get("phoneNumber"))||null==i.errors?null:i.errors.invalidPhone)}}function ke(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"Email is required"),e.qZA())}function Se(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"Please enter a valid email"),e.qZA())}function Pe(n,a){if(1&n&&(e.TgZ(0,"div",70),e.YNc(1,ke,2,0,"span",36),e.YNc(2,Se,2,0,"span",36),e.qZA()),2&n){const t=e.oxw();let o,i;e.xp6(1),e.Q6J("ngIf",null==(o=t.personalForm.get("emailId"))||null==o.errors?null:o.errors.required),e.xp6(1),e.Q6J("ngIf",null==(i=t.personalForm.get("emailId"))||null==i.errors?null:i.errors.email)}}function Qe(n,a){1&n&&(e.TgZ(0,"div",70),e._uU(1," Gender is required "),e.qZA())}function Le(n,a){1&n&&(e.TgZ(0,"div",70),e._uU(1," Must be 16 years or older "),e.qZA())}function Me(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"input",72,73),e.NdJ("change",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.handleProfileImageUpload(i))}),e.qZA()()}}function Oe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",74),e._UZ(1,"img",75),e.TgZ(2,"button",76),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.removeProfileImage())}),e._UZ(3,"i",77),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("src",t.profileImagePreview,e.LSH)}}function Ye(n,a){1&n&&e._UZ(0,"span",78)}function Ee(n,a){1&n&&e._UZ(0,"i",69)}function je(n,a){1&n&&(e.TgZ(0,"div",70),e._uU(1," Program title is required "),e.qZA())}function Ve(n,a){1&n&&(e.TgZ(0,"div",70),e._uU(1," Institute name is required "),e.qZA())}function Re(n,a){if(1&n&&(e.TgZ(0,"option",79),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function Ge(n,a){1&n&&(e.TgZ(0,"div",70),e._uU(1," Invalid GST number format "),e.qZA())}function Ke(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",82),e._UZ(1,"img",83),e.TgZ(2,"div")(3,"button",84),e.NdJ("click",function(){const s=e.CHM(t).index,l=e.oxw(2);return e.KtG(l.handleImageDelete(s))}),e._UZ(4,"i",85),e.qZA(),e.TgZ(5,"button",86),e.NdJ("click",function(){const s=e.CHM(t).index,l=e.oxw(2);return e.KtG(l.handleThumbnailSelect(s))}),e._uU(6),e.qZA()()()}if(2&n){const t=a.$implicit,o=a.index,i=e.oxw(2);e.xp6(1),e.Q6J("src",t,e.LSH)("alt","Image "+(o+1)),e.xp6(4),e.ekj("active",o===i.selectedThumbnailIndex),e.xp6(1),e.hij(" ",o===i.selectedThumbnailIndex?"Thumbnail":"Set as Thumbnail"," ")}}function $e(n,a){if(1&n&&(e.TgZ(0,"div",80),e.YNc(1,Ke,7,5,"div",81),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.imageUrls)}}function He(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"Introduction is required"),e.qZA())}function ze(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"At least 50 characters"),e.qZA())}function We(n,a){if(1&n&&(e.TgZ(0,"div",70),e.YNc(1,He,2,0,"span",36),e.YNc(2,ze,2,0,"span",36),e.qZA()),2&n){const t=e.oxw();let o,i;e.xp6(1),e.Q6J("ngIf",null==(o=t.instituteForm.get("introduction"))||null==o.errors?null:o.errors.required),e.xp6(1),e.Q6J("ngIf",null==(i=t.instituteForm.get("introduction"))||null==i.errors?null:i.errors.minlength)}}function Be(n,a){1&n&&(e.TgZ(0,"div",70),e._uU(1," Please enter a valid URL "),e.qZA())}function Xe(n,a){1&n&&e._UZ(0,"span",78)}function et(n,a){1&n&&(e.TgZ(0,"div",70),e._uU(1," Class name is required "),e.qZA())}function tt(n,a){if(1&n&&(e.TgZ(0,"option",79),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.title)}}function it(n,a){1&n&&(e.TgZ(0,"div",70),e._uU(1," Category is required "),e.qZA())}function ot(n,a){if(1&n&&(e.TgZ(0,"option",79),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.title)}}function nt(n,a){1&n&&(e.TgZ(0,"div",70),e._uU(1," Sub Category is required "),e.qZA())}function st(n,a){1&n&&(e.TgZ(0,"div",70),e._uU(1," Invalid time range (The 'To' time must be after 'From') "),e.qZA())}function at(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"input",119),e.NdJ("change",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.handleWeekdayChange(s,!0))}),e.qZA(),e.TgZ(2,"label",120),e._uU(3),e.qZA()()}if(2&n){const t=a.$implicit,o=e.oxw(2);let i;e.xp6(1),e.Q6J("id",t)("checked",null==(i=o.classForm.get("weekdays"))||null==i.value?null:i.value.includes(t)),e.xp6(1),e.Q6J("for",t),e.xp6(1),e.Oqu(t)}}function lt(n,a){1&n&&(e.TgZ(0,"div",70),e._uU(1," At least one weekday required "),e.qZA())}function rt(n,a){1&n&&(e.TgZ(0,"div",70),e._uU(1," To Age must be greater than or equal to From Age "),e.qZA())}function ct(n,a){1&n&&(e.TgZ(0,"div",70),e._uU(1," To Cost must be greater than or equal to From Cost "),e.qZA())}function ut(n,a){if(1&n&&(e.TgZ(0,"option",121),e._uU(1),e.qZA()),2&n){const t=a.$implicit,o=e.oxw(2);e.Q6J("ngValue",t),e.xp6(1),e.Oqu(o.getLocationFormatted(t))}}function dt(n,a){if(1&n&&(e.TgZ(0,"option",121),e._uU(1),e.qZA()),2&n){const t=a.$implicit,o=e.oxw(2);e.Q6J("ngValue",t),e.xp6(1),e.Oqu(o.getContactFormatted(t))}}function pt(n,a){1&n&&e._UZ(0,"span",78)}const q=function(n){return{active:n}},y=function(n){return{show:n}},_=function(n){return{"is-invalid":n}};function mt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",5)(1,"h2",87)(2,"button",7),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onAccordionClick("item-2"))}),e.TgZ(3,"div",88),e._uU(4," Class Details "),e.qZA()()(),e.TgZ(5,"div",89)(6,"div",11)(7,"form",12),e.NdJ("ngSubmit",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.saveClassDetails())}),e.TgZ(8,"div",13)(9,"div",90)(10,"label",15),e._uU(11,"Class Name"),e.TgZ(12,"span",16),e._uU(13,"*"),e.qZA()(),e._UZ(14,"input",91),e.YNc(15,et,2,0,"div",18),e.qZA(),e.TgZ(16,"div",90)(17,"label",15),e._uU(18,"Category"),e.TgZ(19,"span",16),e._uU(20,"*"),e.qZA()(),e.TgZ(21,"select",92),e.NdJ("change",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onClassCategoryChange())}),e.TgZ(22,"option",28),e._uU(23,"Select Category"),e.qZA(),e.YNc(24,tt,2,2,"option",47),e.qZA(),e.YNc(25,it,2,0,"div",18),e.qZA(),e.TgZ(26,"div",90)(27,"label",15),e._uU(28,"Sub Category"),e.TgZ(29,"span",16),e._uU(30,"*"),e.qZA()(),e.TgZ(31,"select",93)(32,"option",28),e._uU(33,"Select Sub Category"),e.qZA(),e.YNc(34,ot,2,2,"option",47),e.qZA(),e.YNc(35,nt,2,0,"div",18),e.qZA(),e.TgZ(36,"div",90)(37,"label",15),e._uU(38,"Timings From"),e.TgZ(39,"span",16),e._uU(40,"*"),e.qZA()(),e._UZ(41,"input",94),e.qZA(),e.TgZ(42,"div",90)(43,"label",15),e._uU(44,"Timings To"),e.TgZ(45,"span",16),e._uU(46,"*"),e.qZA()(),e._UZ(47,"input",95),e.YNc(48,st,2,0,"div",18),e.qZA(),e.TgZ(49,"div",90)(50,"label",15),e._uU(51,"Weekdays"),e.TgZ(52,"span",16),e._uU(53,"*"),e.qZA()(),e.TgZ(54,"div",96),e.YNc(55,at,4,4,"div",97),e.qZA(),e.YNc(56,lt,2,0,"div",18),e.qZA(),e.TgZ(57,"div",98)(58,"label",15),e._uU(59,"From Age"),e.qZA(),e._UZ(60,"input",99),e.qZA(),e.TgZ(61,"div",98)(62,"label",15),e._uU(63,"To Age"),e.qZA(),e._UZ(64,"input",100),e.YNc(65,rt,2,0,"div",18),e.qZA(),e.TgZ(66,"div",98)(67,"label",15),e._uU(68,"From Cost"),e.qZA(),e._UZ(69,"input",101),e.qZA(),e.TgZ(70,"div",98)(71,"label",15),e._uU(72,"To Cost"),e.qZA(),e._UZ(73,"input",102),e.YNc(74,ct,2,0,"div",18),e.qZA(),e.TgZ(75,"div",98)(76,"label",15),e._uU(77,"Gender"),e.qZA(),e.TgZ(78,"select",103)(79,"option",104),e._uU(80,"Both"),e.qZA(),e.TgZ(81,"option",105),e._uU(82,"Male"),e.qZA(),e.TgZ(83,"option",106),e._uU(84,"Female"),e.qZA(),e.TgZ(85,"option",31),e._uU(86,"Trans"),e.qZA()()(),e.TgZ(87,"div",98)(88,"label",15),e._uU(89,"Prior Knowledge"),e.qZA(),e.TgZ(90,"select",107)(91,"option",108),e._uU(92,"Beginner"),e.qZA(),e.TgZ(93,"option",109),e._uU(94,"Intermediate"),e.qZA(),e.TgZ(95,"option",110),e._uU(96,"Advanced"),e.qZA()()(),e.TgZ(97,"div",98)(98,"label",15),e._uU(99,"No. of Sessions"),e.qZA(),e._UZ(100,"input",111),e.qZA(),e.TgZ(101,"div",98)(102,"label",15),e._uU(103,"Type"),e.TgZ(104,"span",16),e._uU(105,"*"),e.qZA()(),e.TgZ(106,"select",112),e.NdJ("change",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onTypeChange())}),e.TgZ(107,"option",113),e._uU(108,"Online"),e.qZA(),e.TgZ(109,"option",114),e._uU(110,"In Person"),e.qZA()()(),e.TgZ(111,"div",90)(112,"label",15),e._uU(113,"Location"),e.TgZ(114,"span",16),e._uU(115,"*"),e.qZA()(),e.TgZ(116,"select",115)(117,"option",28),e._uU(118,"Select Location"),e.qZA(),e.YNc(119,ut,2,2,"option",116),e.qZA(),e.TgZ(120,"button",117),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.openLocationPopup())}),e._uU(121,"Add Location"),e.qZA()(),e.TgZ(122,"div",90)(123,"label",15),e._uU(124,"Contact"),e.TgZ(125,"span",16),e._uU(126,"*"),e.qZA()(),e.TgZ(127,"select",118)(128,"option",28),e._uU(129,"Select Contact"),e.qZA(),e.YNc(130,dt,2,2,"option",116),e.qZA(),e.TgZ(131,"button",117),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.openContactPopup())}),e._uU(132,"Add Contact"),e.qZA()()(),e.TgZ(133,"div",38)(134,"button",39),e.YNc(135,pt,1,0,"span",40),e._uU(136),e.qZA()()()()()()}if(2&n){const t=e.oxw();let o,i,s,l,c,u,m,p,d,h,Z,A,T;e.Q6J("ngClass",e.VKq(26,q,"item-2"===t.activeAccordion)),e.xp6(2),e.ekj("collapsed","item-2"!==t.activeAccordion),e.xp6(3),e.Q6J("ngClass",e.VKq(28,y,"item-2"===t.activeAccordion)),e.xp6(2),e.Q6J("formGroup",t.classForm),e.xp6(7),e.Q6J("ngClass",e.VKq(30,_,(null==(o=t.classForm.get("className"))?null:o.touched)&&(null==(o=t.classForm.get("className"))?null:o.errors))),e.xp6(1),e.Q6J("ngIf",(null==(i=t.classForm.get("className"))?null:i.touched)&&(null==(i=t.classForm.get("className"))?null:i.errors)),e.xp6(9),e.Q6J("ngForOf",t.categories),e.xp6(1),e.Q6J("ngIf",(null==(s=t.classForm.get("category"))?null:s.touched)&&(null==(s=t.classForm.get("category"))?null:s.errors)),e.xp6(6),e.Q6J("disabled",!(null!=(l=t.classForm.get("category"))&&l.value)),e.xp6(3),e.Q6J("ngForOf",t.classSubcategories),e.xp6(1),e.Q6J("ngIf",(null==(c=t.classForm.get("subCategory"))?null:c.touched)&&(null==(c=t.classForm.get("subCategory"))?null:c.errors)),e.xp6(6),e.Q6J("ngClass",e.VKq(32,_,(null==(u=t.classForm.get("timingsFrom"))?null:u.touched)&&(null==(u=t.classForm.get("timingsFrom"))?null:u.errors))),e.xp6(6),e.Q6J("ngClass",e.VKq(34,_,(null==(m=t.classForm.get("timingsTo"))?null:m.touched)&&(null==(m=t.classForm.get("timingsTo"))?null:m.errors))),e.xp6(1),e.Q6J("ngIf",(null==(p=t.classForm.get("timingsTo"))?null:p.touched)&&(null==(p=t.classForm.get("timingsTo"))?null:p.errors)),e.xp6(7),e.Q6J("ngForOf",t.weekdays),e.xp6(1),e.Q6J("ngIf",(null==(d=t.classForm.get("weekdays"))?null:d.touched)&&(null==(d=t.classForm.get("weekdays"))?null:d.errors)),e.xp6(8),e.Q6J("ngClass",e.VKq(36,_,t.classForm.hasError("ageRange")&&(null==(h=t.classForm.get("toage"))?null:h.touched))),e.xp6(1),e.Q6J("ngIf",t.classForm.hasError("ageRange")&&(null==(Z=t.classForm.get("toage"))?null:Z.touched)),e.xp6(8),e.Q6J("ngClass",e.VKq(38,_,t.classForm.hasError("costRange")&&(null==(A=t.classForm.get("tocost"))?null:A.touched))),e.xp6(1),e.Q6J("ngIf",t.classForm.hasError("costRange")&&(null==(T=t.classForm.get("tocost"))?null:T.touched)),e.xp6(45),e.Q6J("ngForOf",t.savedLocations),e.xp6(11),e.Q6J("ngForOf",t.savedContacts),e.xp6(4),e.Q6J("disabled",t.isLoading),e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(1),e.hij(" ",t.isLoading?"Saving...":"Save Class Details"," ")}}function gt(n,a){1&n&&(e.TgZ(0,"div",70),e._uU(1," Course name is required "),e.qZA())}function _t(n,a){if(1&n&&(e.TgZ(0,"option",79),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.title)}}function ht(n,a){1&n&&(e.TgZ(0,"div",70),e._uU(1," Category is required "),e.qZA())}function ft(n,a){if(1&n&&(e.TgZ(0,"option",79),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.title)}}function vt(n,a){1&n&&(e.TgZ(0,"div",70),e._uU(1," Sub Category is required "),e.qZA())}function Zt(n,a){1&n&&(e.TgZ(0,"div",70),e._uU(1," Invalid time range "),e.qZA())}function At(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"input",119),e.NdJ("change",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.handleWeekdayChange(s,!1))}),e.qZA(),e.TgZ(2,"label",125),e._uU(3),e.qZA()()}if(2&n){const t=a.$implicit,o=e.oxw(2);let i;e.xp6(1),e.Q6J("id","course-"+t)("checked",null==(i=o.courseForm.get("weekdays"))||null==i.value?null:i.value.includes(t)),e.xp6(1),e.Q6J("for","course-"+t),e.xp6(1),e.Oqu(t)}}function Tt(n,a){1&n&&(e.TgZ(0,"div",70),e._uU(1," At least one weekday required "),e.qZA())}function bt(n,a){1&n&&(e.TgZ(0,"div",70),e._uU(1," To Age must be greater than or equal to From Age "),e.qZA())}function Ct(n,a){1&n&&(e.TgZ(0,"div",70),e._uU(1," To Cost must be greater than or equal to From Cost "),e.qZA())}function qt(n,a){if(1&n&&(e.TgZ(0,"option",121),e._uU(1),e.qZA()),2&n){const t=a.$implicit,o=e.oxw(2);e.Q6J("ngValue",t),e.xp6(1),e.Oqu(o.getLocationFormatted(t))}}function yt(n,a){if(1&n&&(e.TgZ(0,"option",121),e._uU(1),e.qZA()),2&n){const t=a.$implicit,o=e.oxw(2);e.Q6J("ngValue",t),e.xp6(1),e.Oqu(o.getContactFormatted(t))}}function Ut(n,a){1&n&&e._UZ(0,"span",78)}function xt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",5)(1,"h2",122)(2,"button",7),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onAccordionClick("item-3"))}),e.TgZ(3,"div",88),e._uU(4," Course Details "),e.qZA()()(),e.TgZ(5,"div",123)(6,"div",11)(7,"form",12),e.NdJ("ngSubmit",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.saveCourseDetails())}),e.TgZ(8,"div",13)(9,"div",90)(10,"label",15),e._uU(11,"Course Name"),e.TgZ(12,"span",16),e._uU(13,"*"),e.qZA()(),e._UZ(14,"input",124),e.YNc(15,gt,2,0,"div",18),e.qZA(),e.TgZ(16,"div",90)(17,"label",15),e._uU(18,"Category"),e.TgZ(19,"span",16),e._uU(20,"*"),e.qZA()(),e.TgZ(21,"select",92),e.NdJ("change",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onCourseCategoryChange())}),e.TgZ(22,"option",28),e._uU(23,"Select Category"),e.qZA(),e.YNc(24,_t,2,2,"option",47),e.qZA(),e.YNc(25,ht,2,0,"div",18),e.qZA(),e.TgZ(26,"div",90)(27,"label",15),e._uU(28,"Sub Category"),e.TgZ(29,"span",16),e._uU(30,"*"),e.qZA()(),e.TgZ(31,"select",93)(32,"option",28),e._uU(33,"Select Sub Category"),e.qZA(),e.YNc(34,ft,2,2,"option",47),e.qZA(),e.YNc(35,vt,2,0,"div",18),e.qZA(),e.TgZ(36,"div",90)(37,"label",15),e._uU(38,"Timings From"),e.TgZ(39,"span",16),e._uU(40,"*"),e.qZA()(),e._UZ(41,"input",94),e.qZA(),e.TgZ(42,"div",90)(43,"label",15),e._uU(44,"Timings To"),e.TgZ(45,"span",16),e._uU(46,"*"),e.qZA()(),e._UZ(47,"input",95),e.YNc(48,Zt,2,0,"div",18),e.qZA(),e.TgZ(49,"div",90)(50,"label",15),e._uU(51,"Weekdays"),e.TgZ(52,"span",16),e._uU(53,"*"),e.qZA()(),e.TgZ(54,"div",96),e.YNc(55,At,4,4,"div",97),e.qZA(),e.YNc(56,Tt,2,0,"div",18),e.qZA(),e.TgZ(57,"div",98)(58,"label",15),e._uU(59,"From Age"),e.qZA(),e._UZ(60,"input",99),e.qZA(),e.TgZ(61,"div",98)(62,"label",15),e._uU(63,"To Age"),e.qZA(),e._UZ(64,"input",100),e.YNc(65,bt,2,0,"div",18),e.qZA(),e.TgZ(66,"div",98)(67,"label",15),e._uU(68,"From Cost"),e.qZA(),e._UZ(69,"input",101),e.qZA(),e.TgZ(70,"div",98)(71,"label",15),e._uU(72,"To Cost"),e.qZA(),e._UZ(73,"input",102),e.YNc(74,Ct,2,0,"div",18),e.qZA(),e.TgZ(75,"div",98)(76,"label",15),e._uU(77,"Gender"),e.qZA(),e.TgZ(78,"select",103)(79,"option",104),e._uU(80,"Both"),e.qZA(),e.TgZ(81,"option",105),e._uU(82,"Male"),e.qZA(),e.TgZ(83,"option",106),e._uU(84,"Female"),e.qZA(),e.TgZ(85,"option",31),e._uU(86,"Trans"),e.qZA()()(),e.TgZ(87,"div",98)(88,"label",15),e._uU(89,"Prior Knowledge"),e.qZA(),e.TgZ(90,"select",107)(91,"option",108),e._uU(92,"Beginner"),e.qZA(),e.TgZ(93,"option",109),e._uU(94,"Intermediate"),e.qZA(),e.TgZ(95,"option",110),e._uU(96,"Advanced"),e.qZA()()(),e.TgZ(97,"div",98)(98,"label",15),e._uU(99,"No. of Sessions"),e.qZA(),e._UZ(100,"input",111),e.qZA(),e.TgZ(101,"div",98)(102,"label",15),e._uU(103,"Type"),e.TgZ(104,"span",16),e._uU(105,"*"),e.qZA()(),e.TgZ(106,"select",112),e.NdJ("change",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onCourseTypeChange())}),e.TgZ(107,"option",113),e._uU(108,"Online"),e.qZA(),e.TgZ(109,"option",114),e._uU(110,"In Person"),e.qZA()()(),e.TgZ(111,"div",90)(112,"label",15),e._uU(113,"Location"),e.TgZ(114,"span",16),e._uU(115,"*"),e.qZA()(),e.TgZ(116,"select",115)(117,"option",28),e._uU(118,"Select Location"),e.qZA(),e.YNc(119,qt,2,2,"option",116),e.qZA(),e.TgZ(120,"button",117),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.openLocationPopup())}),e._uU(121,"Add Location"),e.qZA()(),e.TgZ(122,"div",90)(123,"label",15),e._uU(124,"Contact"),e.TgZ(125,"span",16),e._uU(126,"*"),e.qZA()(),e.TgZ(127,"select",118)(128,"option",28),e._uU(129,"Select Contact"),e.qZA(),e.YNc(130,yt,2,2,"option",116),e.qZA(),e.TgZ(131,"button",117),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.openContactPopup())}),e._uU(132,"Add Contact"),e.qZA()()(),e.TgZ(133,"div",38)(134,"button",39),e.YNc(135,Ut,1,0,"span",40),e._uU(136),e.qZA()()()()()()}if(2&n){const t=e.oxw();let o,i,s,l,c,u,m,p,d,h,Z,A,T;e.Q6J("ngClass",e.VKq(26,q,"item-3"===t.activeAccordion)),e.xp6(2),e.ekj("collapsed","item-3"!==t.activeAccordion),e.xp6(3),e.Q6J("ngClass",e.VKq(28,y,"item-3"===t.activeAccordion)),e.xp6(2),e.Q6J("formGroup",t.courseForm),e.xp6(7),e.Q6J("ngClass",e.VKq(30,_,(null==(o=t.courseForm.get("courseName"))?null:o.touched)&&(null==(o=t.courseForm.get("courseName"))?null:o.errors))),e.xp6(1),e.Q6J("ngIf",(null==(i=t.courseForm.get("courseName"))?null:i.touched)&&(null==(i=t.courseForm.get("courseName"))?null:i.errors)),e.xp6(9),e.Q6J("ngForOf",t.categories),e.xp6(1),e.Q6J("ngIf",(null==(s=t.courseForm.get("category"))?null:s.touched)&&(null==(s=t.courseForm.get("category"))?null:s.errors)),e.xp6(6),e.Q6J("disabled",!(null!=(l=t.courseForm.get("category"))&&l.value)),e.xp6(3),e.Q6J("ngForOf",t.courseSubcategories),e.xp6(1),e.Q6J("ngIf",(null==(c=t.courseForm.get("subCategory"))?null:c.touched)&&(null==(c=t.courseForm.get("subCategory"))?null:c.errors)),e.xp6(6),e.Q6J("ngClass",e.VKq(32,_,(null==(u=t.courseForm.get("timingsFrom"))?null:u.touched)&&(null==(u=t.courseForm.get("timingsFrom"))?null:u.errors))),e.xp6(6),e.Q6J("ngClass",e.VKq(34,_,(null==(m=t.courseForm.get("timingsTo"))?null:m.touched)&&(null==(m=t.courseForm.get("timingsTo"))?null:m.errors))),e.xp6(1),e.Q6J("ngIf",(null==(p=t.courseForm.get("timingsTo"))?null:p.touched)&&(null==(p=t.courseForm.get("timingsTo"))?null:p.errors)),e.xp6(7),e.Q6J("ngForOf",t.weekdays),e.xp6(1),e.Q6J("ngIf",(null==(d=t.courseForm.get("weekdays"))?null:d.touched)&&(null==(d=t.courseForm.get("weekdays"))?null:d.errors)),e.xp6(8),e.Q6J("ngClass",e.VKq(36,_,t.courseForm.hasError("ageRange")&&(null==(h=t.courseForm.get("toage"))?null:h.touched))),e.xp6(1),e.Q6J("ngIf",t.courseForm.hasError("ageRange")&&(null==(Z=t.courseForm.get("toage"))?null:Z.touched)),e.xp6(8),e.Q6J("ngClass",e.VKq(38,_,t.courseForm.hasError("costRange")&&(null==(A=t.courseForm.get("tocost"))?null:A.touched))),e.xp6(1),e.Q6J("ngIf",t.courseForm.hasError("costRange")&&(null==(T=t.courseForm.get("tocost"))?null:T.touched)),e.xp6(45),e.Q6J("ngForOf",t.savedLocations),e.xp6(11),e.Q6J("ngForOf",t.savedContacts),e.xp6(4),e.Q6J("disabled",t.isLoading),e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(1),e.hij(" ",t.isLoading?"Saving...":"Save Course Details"," ")}}function Nt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td")(10,"button",130),e.NdJ("click",function(){const s=e.CHM(t).index,l=e.oxw(3);return e.KtG(l.handleEditClass(s))}),e._UZ(11,"i",131),e.qZA(),e.TgZ(12,"button",132),e.NdJ("click",function(){const s=e.CHM(t).index,l=e.oxw(3);return e.KtG(l.handleCopyClass(s))}),e._UZ(13,"i",133),e.qZA(),e.TgZ(14,"button",134),e.NdJ("click",function(){const s=e.CHM(t).index,l=e.oxw(3);return e.KtG(l.handleDeleteClass(s))}),e._UZ(15,"i",85),e.qZA()()()}if(2&n){const t=a.$implicit;e.xp6(2),e.Oqu(t.className),e.xp6(2),e.Oqu(t.type),e.xp6(2),e.AsE("",t.timingsFrom," - ",t.timingsTo,""),e.xp6(2),e.Oqu(t.weekdays.join(", "))}}function Dt(n,a){if(1&n&&(e.TgZ(0,"div",128)(1,"h5"),e._uU(2,"Class Details"),e.qZA(),e.TgZ(3,"table",129)(4,"thead")(5,"tr")(6,"th"),e._uU(7,"Class Name"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Type"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Timings"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Days"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Actions"),e.qZA()()(),e.TgZ(16,"tbody"),e.YNc(17,Nt,16,5,"tr",97),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(17),e.Q6J("ngForOf",t.classDetailsData)}}function Ft(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td")(10,"button",130),e.NdJ("click",function(){const s=e.CHM(t).index,l=e.oxw(3);return e.KtG(l.handleEditCourse(s))}),e._UZ(11,"i",131),e.qZA(),e.TgZ(12,"button",132),e.NdJ("click",function(){const s=e.CHM(t).index,l=e.oxw(3);return e.KtG(l.handleCopyCourse(s))}),e._UZ(13,"i",133),e.qZA(),e.TgZ(14,"button",134),e.NdJ("click",function(){const s=e.CHM(t).index,l=e.oxw(3);return e.KtG(l.handleDeleteCourse(s))}),e._UZ(15,"i",85),e.qZA()()()}if(2&n){const t=a.$implicit;e.xp6(2),e.Oqu(t.title),e.xp6(2),e.Oqu(t.type),e.xp6(2),e.AsE("",t.timingsFrom," - ",t.timingsTo,""),e.xp6(2),e.Oqu(t.weekdays.join(", "))}}function It(n,a){if(1&n&&(e.TgZ(0,"div",128)(1,"h5"),e._uU(2,"Course Details"),e.qZA(),e.TgZ(3,"table",129)(4,"thead")(5,"tr")(6,"th"),e._uU(7,"Course Name"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Type"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Timings"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Days"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Actions"),e.qZA()()(),e.TgZ(16,"tbody"),e.YNc(17,Ft,16,5,"tr",97),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(17),e.Q6J("ngForOf",t.courseDetailsData)}}function wt(n,a){if(1&n&&(e.TgZ(0,"div",126),e.YNc(1,Dt,18,1,"div",127),e.YNc(2,It,18,1,"div",127),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.classDetailsData.length),e.xp6(1),e.Q6J("ngIf",t.courseDetailsData.length)}}function Jt(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"Primary "),e.qZA())}function kt(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"Secondary "),e.qZA())}function St(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"Billing"),e.qZA())}function Pt(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"-"),e.qZA())}function Qt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e.YNc(16,Jt,2,0,"span",36),e.YNc(17,kt,2,0,"span",36),e.YNc(18,St,2,0,"span",36),e.YNc(19,Pt,2,0,"span",36),e.qZA(),e.TgZ(20,"td")(21,"button",135),e.NdJ("click",function(){const s=e.CHM(t).index,l=e.oxw(2);return e.KtG(l.handleDeleteLocation(s))}),e._uU(22,"Delete"),e.qZA()()()}if(2&n){const t=a.$implicit,o=a.index,i=e.oxw(2);e.xp6(2),e.Oqu(i.getLocationFormatted(t)),e.xp6(2),e.Oqu(null!=i.savedContacts[o]&&null!=i.savedContacts[o].contactType&&i.savedContacts[o].contactType.primary?"Yes":"-"),e.xp6(2),e.Oqu((null==i.savedContacts[o]?null:i.savedContacts[o].tutorFirstName)||"-"),e.xp6(2),e.Oqu((null==i.savedContacts[o]?null:i.savedContacts[o].tutorLastName)||"-"),e.xp6(2),e.Oqu((null==i.savedContacts[o]?null:i.savedContacts[o].tutorPhoneNo)||"-"),e.xp6(2),e.Oqu((null==i.savedContacts[o]?null:i.savedContacts[o].whatsappNo)||"-"),e.xp6(2),e.Oqu((null==i.savedContacts[o]?null:i.savedContacts[o].tutorEmailID)||"-"),e.xp6(2),e.Q6J("ngIf",null==i.savedContacts[o]||null==i.savedContacts[o].contactType?null:i.savedContacts[o].contactType.primary),e.xp6(1),e.Q6J("ngIf",null==i.savedContacts[o]||null==i.savedContacts[o].contactType?null:i.savedContacts[o].contactType.secondary),e.xp6(1),e.Q6J("ngIf",null==i.savedContacts[o]||null==i.savedContacts[o].contactType?null:i.savedContacts[o].contactType.billing),e.xp6(1),e.Q6J("ngIf",!i.savedContacts[o])}}function Lt(n,a){if(1&n&&(e.TgZ(0,"div",126)(1,"h5"),e._uU(2,"Directory"),e.qZA(),e.TgZ(3,"table",129)(4,"thead")(5,"tr")(6,"th"),e._uU(7,"Address"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Primary"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"First Name"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Last Name"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Phone"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"WhatsApp"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Email"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Contact Type"),e.qZA(),e.TgZ(22,"th"),e._uU(23,"Actions"),e.qZA()()(),e.TgZ(24,"tbody"),e.YNc(25,Qt,23,11,"tr",97),e.qZA()()()),2&n){const t=e.oxw();e.xp6(25),e.Q6J("ngForOf",t.savedLocations)}}function Mt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",136)(1,"div",137)(2,"button",138),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Close click"))}),e.qZA()(),e.TgZ(3,"div",139)(4,"div",140)(5,"div",141),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.selectAddDetails("class",s))}),e._UZ(6,"img",142),e.TgZ(7,"h3",143),e._uU(8,"Class Details"),e.qZA(),e.TgZ(9,"p",144),e._uU(10,"Provide class-related information"),e.qZA()(),e.TgZ(11,"div",141),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.selectAddDetails("course",s))}),e._UZ(12,"img",145),e.TgZ(13,"h3",143),e._uU(14,"Course Form"),e.qZA(),e.TgZ(15,"p",144),e._uU(16,"Fill in course details"),e.qZA()()(),e.TgZ(17,"button",146),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Close click"))}),e._uU(18," Close "),e.qZA()()()}}const G=function(n,a){return{"accordion-trigger-active":n,"accordion-trigger-inactive":a}};let K=(()=>{class n{constructor(t,o,i,s,l){this.fb=t,this.modalService=o,this.activityService=i,this.toastr=s,this.route=l,this.classSubcategories=[],this.courseSubcategories=[],this.isLoading=!1,this.activeAccordion="item-0",this.profileImagePreview=null,this.images=[],this.imageUrls=[],this.selectedThumbnailIndex=null,this.categories=[],this.subcategories=[],this.savedLocations=[],this.savedContacts=[],this.showClassFields=!1,this.showCourseFields=!1,this.isOpen=!1,this.isSuccessPopupOpen=!1,this.isPreviewOpen=!1,this.isDeleteOpen=!1,this.isLocationPopupOpen=!1,this.isContactPopupOpen=!1,this.username="",this.deleteMessage="",this.editingIndex=null,this.isCropperOpen=!1,this.tempImageUrl=null,this.completedSections={personalDetails:!1,instituteDetails:!1,classDetails:!1},this.classDetailsData=[],this.courseDetailsData=[],this.personalDetailsData=null,this.instituteDetailsData=null,this.weekdays=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],this.yearsList=[];for(let u=(new Date).getFullYear();u>=1950;u--)this.yearsList.push(u);this.initializeForms()}ngOnInit(){this.loadCategories(),this.loadSubCategories(),this.loadSavedData(),this.route.paramMap.subscribe(t=>{const o=t.get("id");o&&this.fetchActivityDetails(+o)})}initializeForms(){this.personalForm=this.fb.group({firstName:["",[r.kI.required]],lastName:["",[r.kI.required]],countryCode:["+91",[r.kI.required]],phoneNumber:["",[r.kI.required,U.phoneNumberValidator()]],emailId:["",[r.kI.required,r.kI.email]],gender:["",[r.kI.required]],dob:["",[U.ageValidator()]],profileImageFile:[null]}),this.instituteForm=this.fb.group({programTitle:["",[r.kI.required]],instituteName:["",[r.kI.required]],since:[""],gstNo:["",[r.kI.pattern("^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$")]],thumbnailImageFile:[null,[r.kI.required]],introduction:["",[r.kI.required,r.kI.minLength(50)]],websiteName:["",[r.kI.pattern("^https?://.*")]],classLevel:[""],instagramAccount:[""],youtubeAccount:[""]}),this.classForm=this.fb.group({type:["Offline",[r.kI.required]],className:["",[r.kI.required]],category:["",[r.kI.required]],subCategory:["",[r.kI.required]],timingsFrom:["12:00",[r.kI.required]],timingsTo:["13:00",[r.kI.required,U.timeRangeValidator()]],weekdays:[[],[r.kI.required]],fromage:[""],toage:[""],fromcost:[""],tocost:[""],gender:["both"],experienceLevel:["beginner"],noOfSessions:["1"],location:[null,[r.kI.required]],contact:[null,[r.kI.required]]},{validators:[x("fromage","toage","ageRange"),x("fromcost","tocost","costRange")]}),this.courseForm=this.fb.group({type:["Offline",[r.kI.required]],courseName:["",[r.kI.required]],category:["",[r.kI.required]],subCategory:["",[r.kI.required]],timingsFrom:["12:00",[r.kI.required]],timingsTo:["13:00",[r.kI.required,U.timeRangeValidator()]],weekdays:[[],[r.kI.required]],fromage:[""],toage:[""],fromcost:[""],tocost:[""],gender:["both"],experienceLevel:["beginner"],noOfSessions:["1"],location:[null,[r.kI.required]],contact:[null,[r.kI.required]]},{validators:[x("fromage","toage","ageRange"),x("fromcost","tocost","costRange")]})}loadCategories(){this.isLoading=!1,this.activityService.getCategories().subscribe({next:t=>{this.categories=t},error:t=>{this.toastr.error("Error loading categories"),console.error("Error:",t)},complete:()=>{this.isLoading=!1}})}loadSubCategories(){this.isLoading=!1,this.activityService.getSubCategories().subscribe({next:t=>{this.subcategories=t},error:t=>{this.toastr.error("Error loading categories"),console.error("Error:",t)},complete:()=>{this.isLoading=!1}})}fetchActivityDetails(t){this.isLoading=!0,this.activityService.getActivityById(t).subscribe({next:o=>{o.thumbnailImage&&(o.thumbnailImage=this.processImageUrl(o.thumbnailImage)),o.images&&(o.images=o.images.map(i=>this.processImageUrl(i))),o.profileImage&&(o.profileImage=this.processImageUrl(o.profileImage)),this.instituteForm.patchValue({programTitle:o.title||"",instituteName:o.companyName||"",since:o.sinceYear||"",gstNo:o.gstNo||"",introduction:o.description||"",websiteName:o.website||"",classLevel:o.classLevel||"",instagramAccount:o.instagramAcc||"",youtubeAccount:o.youtubeAcc||""}),this.instituteDetailsData=this.instituteForm.value,this.completedSections.instituteDetails=!0,this.personalForm.patchValue({firstName:o.tutorFirstName||"",lastName:o.tutorLastName||"",phoneNumber:o.tutorPhoneNo||"",emailId:o.tutorEmailID||"",gender:"",dob:""}),this.personalDetailsData=this.personalForm.value,this.completedSections.personalDetails=!0,this.classDetailsData=Array.isArray(o.classDetails)?o.classDetails.map(i=>({...i,className:i.className||i.title||"",weekdays:i.day?i.day.split(","):[]})):[],this.classDetailsData.length>0&&(this.activeAccordion="item-2",this.completedSections.classDetails=!0),this.courseDetailsData=Array.isArray(o.courseDetails)?o.courseDetails.map(i=>({...i,courseName:i.courseName||i.title||"",weekdays:i.day?i.day.split(","):[]})):[],this.courseDetailsData.length>0&&(this.activeAccordion="item-3",this.completedSections.classDetails=!0),this.imageUrls=Array.isArray(o.images)?o.images:[],this.profileImagePreview=o.profileImage||null,o.thumbnailImage&&(this.imageUrls.unshift(o.thumbnailImage),this.selectedThumbnailIndex=0),this.personalDetailsData&&(this.activeAccordion="item-0"),this.instituteDetailsData&&(this.activeAccordion="item-1"),this.classDetailsData.length>0&&(this.activeAccordion="item-2"),this.courseDetailsData.length>0&&(this.activeAccordion="item-3"),this.activeAccordion="item-0",this.isLoading=!1},error:o=>{console.error("Error fetching activity details:",o),this.isLoading=!1,this.toastr.error("Error loading activity details","Error")}})}loadSavedData(){const t=localStorage.getItem("personalDetails");if(t){const i=JSON.parse(t);this.personalForm.patchValue(i),this.completedSections.personalDetails=!0}const o=localStorage.getItem("instituteDetails");if(o){const i=JSON.parse(o);this.instituteForm.patchValue(i),this.completedSections.instituteDetails=!0}}onAccordionClick(t){t!==this.activeAccordion?"item-0"===t||"item-1"===t&&this.completedSections.personalDetails||"item-2"===t&&this.completedSections.instituteDetails||"item-4"===t&&this.completedSections.instituteDetails||"item-5"===t&&this.completedSections.instituteDetails?this.activeAccordion=t:this.toastr.warning("Please complete previous sections first"):this.activeAccordion=""}handleProfileImageUpload(t){const o=t.target.files?.[0];if(o){if(o.size>5242880)return void this.toastr.error("Image size should be less than 5MB");if(!o.type.startsWith("image/"))return void this.toastr.error("Please upload an image file");const i=new FileReader;i.onload=()=>{const s=i.result,l=this.modalService.open(_e,{size:"lg"});l.componentInstance.imageUrl=s,l.componentInstance.cropComplete.subscribe(c=>{this.personalForm.patchValue({profileImageFile:c}),this.profileImagePreview=URL.createObjectURL(c),l.close()}),l.componentInstance.close.subscribe(()=>{l.dismiss()})},i.readAsDataURL(o)}}handleCropComplete(t){this.personalForm.patchValue({profileImageFile:t}),this.profileImagePreview=URL.createObjectURL(t),this.tempImageUrl=null,this.isCropperOpen=!1}handleImageUpload(t){const o=Array.from(t.target.files||[]);this.images.length+o.length>8?this.toastr.error("Maximum 8 images allowed"):o.forEach(i=>{if(i.size>8388608)return void this.toastr.error(`${i.name} is too large. Maximum size is 8MB`);if(!i.type.startsWith("image/"))return void this.toastr.error(`${i.name} is not an image file`);this.images.push(i);const s=URL.createObjectURL(i);this.imageUrls.push(s),1===this.images.length&&(this.selectedThumbnailIndex=0,this.instituteForm.patchValue({thumbnailImageFile:i}))})}handleThumbnailSelect(t){this.selectedThumbnailIndex=t,this.instituteForm.patchValue({thumbnailImageFile:this.images[t]})}handleImageDelete(t){URL.revokeObjectURL(this.imageUrls[t]),this.images.splice(t,1),this.imageUrls.splice(t,1),this.selectedThumbnailIndex===t?this.images.length>0?(this.selectedThumbnailIndex=0,this.instituteForm.patchValue({thumbnailImageFile:this.images[0]})):(this.selectedThumbnailIndex=null,this.instituteForm.patchValue({thumbnailImageFile:null})):this.selectedThumbnailIndex&&this.selectedThumbnailIndex>t&&this.selectedThumbnailIndex--}handleWeekdayChange(t,o=!0){const i=o?this.classForm:this.courseForm,s=i.get("weekdays")?.value||[];if(s.includes(t)){const l=s.filter(c=>c!==t);i.patchValue({weekdays:l})}else i.patchValue({weekdays:[...s,t]})}savePersonalDetails(){if(this.personalForm.invalid)return Object.keys(this.personalForm.controls).forEach(t=>{const o=this.personalForm.get(t);o?.invalid&&o.markAsTouched()}),void this.toastr.error("Please fill all required fields");try{this.isLoading=!0;const t=this.personalForm.value;this.personalDetailsData=t,localStorage.setItem("personalDetails",JSON.stringify(t)),this.completedSections.personalDetails=!0,this.activeAccordion="item-1",this.toastr.success("Personal details saved successfully")}catch(t){this.toastr.error("Error saving personal details"),console.error("Error:",t)}finally{this.isLoading=!1}}saveInstituteDetails(){if(this.instituteForm.invalid)return Object.keys(this.instituteForm.controls).forEach(t=>{const o=this.instituteForm.get(t);o?.invalid&&o.markAsTouched()}),void this.toastr.error("Please fill all required fields");try{this.isLoading=!0;const t=this.instituteForm.value;this.instituteDetailsData=t,localStorage.setItem("instituteDetails",JSON.stringify(t)),this.completedSections.instituteDetails=!0,this.activeAccordion="item-2",this.toastr.success("Institute details saved successfully")}catch(t){this.toastr.error("Error saving institute details"),console.error("Error:",t)}finally{this.isLoading=!1}}saveClassDetails(){if(this.classForm.invalid)return Object.keys(this.classForm.controls).forEach(t=>{const o=this.classForm.get(t);o?.invalid&&o.markAsTouched()}),void this.toastr.error("Please fill all required fields");try{const t=this.classForm.value,o={...t,id:Date.now(),title:t.className,subCategoryID:t.subCategory,categoryID:t.category,timingsFrom:t.timingsFrom,timingsTo:t.timingsTo,day:t.weekdays.join(","),type:t.type,ageFrom:parseInt(t.fromage)||0,ageTo:parseInt(t.toage)||0,sessionFrom:parseInt(t.sessionFrom)||0,sessionTo:parseInt(t.sessionTo)||1,gender:t.gender,fromPrice:parseFloat(t.fromcost)||0,toPrice:parseFloat(t.tocost)||0,location:t.location,contact:t.contact};null!==this.editingIndex?this.classDetailsData[this.editingIndex]=o:this.classDetailsData.push(o),this.classForm.reset({type:"Offline",gender:"both",experienceLevel:"beginner",noOfSessions:"1"}),this.editingIndex=null,this.showClassFields=!1,this.toastr.success("Class details saved successfully")}catch(t){this.toastr.error("Error saving class details"),console.error("Error:",t)}}saveCourseDetails(){if(this.courseForm.invalid)return Object.keys(this.courseForm.controls).forEach(t=>{const o=this.courseForm.get(t);o?.invalid&&o.markAsTouched()}),void this.toastr.error("Please fill all required fields");try{const t=this.courseForm.value,o={...t,id:Date.now(),title:t.courseName,subCategoryID:t.subCategory,categoryID:t.category,timingsFrom:t.timingsFrom,timingsTo:t.timingsTo,day:t.weekdays.join(","),type:t.type,ageFrom:parseInt(t.fromage)||0,ageTo:parseInt(t.toage)||0,sessionFrom:parseInt(t.sessionFrom)||0,sessionTo:parseInt(t.sessionTo)||1,gender:t.gender,fromPrice:parseFloat(t.fromcost)||0,toPrice:parseFloat(t.tocost)||0,location:t.location,contact:t.contact};null!==this.editingIndex?this.courseDetailsData[this.editingIndex]=o:this.courseDetailsData.push(o),this.courseForm.reset({type:"Offline",gender:"both",experienceLevel:"beginner",noOfSessions:"1"}),this.editingIndex=null,this.showCourseFields=!1,this.toastr.success("Course details saved successfully")}catch(t){this.toastr.error("Error saving course details"),console.error("Error:",t)}}handleSubmit(){return this.completedSections.personalDetails&&this.personalDetailsData?this.completedSections.instituteDetails&&this.instituteDetailsData?void(0!==this.classDetailsData.length||0!==this.courseDetailsData.length?this.isPreviewOpen=!0:this.toastr.error("Please add at least one class or course")):(this.toastr.error("Please complete Institute Details section"),void(this.activeAccordion="item-1")):(this.toastr.error("Please complete Personal Details section"),void(this.activeAccordion="item-0"))}handleSubmitAfterPreview(){this.isLoading=!0;const t=new FormData;t.append("name",`${this.personalDetailsData.firstName} ${this.personalDetailsData.lastName}`),t.append("emailId",this.personalDetailsData.emailId),t.append("phoneNumber",`${this.personalDetailsData.countryCode}${this.personalDetailsData.phoneNumber}`),t.append("gender",this.personalDetailsData.gender),this.personalDetailsData.dob&&t.append("dob",new Date(this.personalDetailsData.dob).toISOString()),this.personalDetailsData.profileImageFile instanceof File&&t.append("profileImageFile",this.personalDetailsData.profileImageFile),t.append("activity.type","INSTITUTE"),t.append("activity.title",this.instituteDetailsData.programTitle),t.append("activity.companyName",this.instituteDetailsData.instituteName),t.append("activity.description",this.instituteDetailsData.introduction||""),t.append("activity.sinceYear",this.instituteDetailsData.since||""),t.append("activity.gstNo",this.instituteDetailsData.gstNo||""),t.append("activity.website",this.instituteDetailsData.websiteName||""),t.append("activity.classLevel",this.instituteDetailsData.classLevel||""),t.append("activity.instagramAcc",this.instituteDetailsData.instagramAccount||""),t.append("activity.youtubeAcc",this.instituteDetailsData.youtubeAccount||""),null!==this.selectedThumbnailIndex&&this.images[this.selectedThumbnailIndex]&&t.append("activity.thumbnailImageFile",this.images[this.selectedThumbnailIndex]),this.images.forEach((l,c)=>{c!==this.selectedThumbnailIndex&&t.append("activity.images",l)});const i=this.classDetailsData.map(l=>({...l,id:0,activityId:0})),s=this.courseDetailsData.map(l=>({...l,id:0,activityId:0,startDate:(new Date).toISOString().split("T")[0],endDate:new Date(Date.now()+2592e6).toISOString().split("T")[0]}));t.append("activity.classDetails",JSON.stringify(i)),t.append("activity.courseDetails",JSON.stringify(s)),t.append("activity.id","0"),this.activityService.registerVendor(t).subscribe({next:l=>{this.username=l.username,this.isSuccessPopupOpen=!0,this.isPreviewOpen=!1,this.toastr.success("Registration completed successfully!")},error:l=>{console.error("API Error:",l),this.toastr.error(l.message||"An error occurred during registration")},complete:()=>{this.isLoading=!1}})}handleEditClass(t){const o=this.classDetailsData[t];o&&(this.classForm.patchValue(o),this.editingIndex=t,this.showClassFields=!0,this.activeAccordion="item-2")}handleEditCourse(t){const o=this.courseDetailsData[t];o&&(this.courseForm.patchValue(o),this.editingIndex=t,this.showCourseFields=!0,this.activeAccordion="item-3")}handleDeleteClass(t){this.deleteMessage="Are you sure you want to delete this class?",this.isDeleteOpen=!0;const o=this.modalService.open(M.g,{centered:!0,backdrop:"static"});o.componentInstance.title="Delete Class",o.componentInstance.message=this.deleteMessage,o.result.then(i=>{"delete"===i&&(this.classDetailsData.splice(t,1),this.toastr.success("Class deleted successfully"))},i=>{console.log("Modal dismissed")})}handleDeleteCourse(t){this.deleteMessage="Are you sure you want to delete this course?",this.isDeleteOpen=!0;const o=this.modalService.open(M.g,{centered:!0,backdrop:"static"});o.componentInstance.title="Delete Course",o.componentInstance.message=this.deleteMessage,o.result.then(i=>{"delete"===i&&(this.courseDetailsData.splice(t,1),this.toastr.success("Course deleted successfully"))},i=>{console.log("Modal dismissed")})}handleCopyClass(t){const o=this.classDetailsData[t];if(o){const i={...o,id:Date.now(),className:`${o.className} (Copy)`};this.classDetailsData.push(i),this.toastr.success("Class copied successfully")}}handleCopyCourse(t){const o=this.courseDetailsData[t];if(o){const i={...o,id:Date.now(),className:`${o.className} (Copy)`};this.courseDetailsData.push(i),this.toastr.success("Course copied successfully")}}handleClearForm(){this.personalForm.reset(),this.instituteForm.reset(),this.classForm.reset(),this.courseForm.reset(),this.images=[],this.imageUrls=[],this.selectedThumbnailIndex=null,this.profileImagePreview=null,this.showClassFields=!1,this.showCourseFields=!1,this.personalDetailsData=null,this.instituteDetailsData=null,this.classDetailsData=[],this.courseDetailsData=[],this.completedSections={personalDetails:!1,instituteDetails:!1,classDetails:!1},this.activeAccordion="item-0",localStorage.removeItem("personalDetails"),localStorage.removeItem("instituteDetails")}handleLocationSubmit(t){try{this.savedLocations=[...this.savedLocations,t],(this.showClassFields?this.classForm:this.courseForm).patchValue({location:t}),this.isLocationPopupOpen=!1,this.toastr.success("LocationData saved successfully")}catch(o){this.toastr.error("Error saving location"),console.error("Error:",o)}}handleContactSubmit(t){try{this.savedContacts=[...this.savedContacts,t],(this.showClassFields?this.classForm:this.courseForm).patchValue({contact:t}),this.isContactPopupOpen=!1,this.toastr.success("Contact saved successfully")}catch(o){this.toastr.error("Error saving contact"),console.error("Error:",o)}}handleFinalSubmit(){if(!this.completedSections.personalDetails||!this.personalDetailsData)return this.toastr.error("Please complete the Profile Details section first"),void(this.activeAccordion="item-0");if(!this.completedSections.instituteDetails||!this.instituteDetailsData)return this.toastr.error("Please complete the Institute Details section first"),void(this.activeAccordion="item-1");if(0===this.classDetailsData.length&&0===this.courseDetailsData.length)return void this.toastr.error("Please add at least one class or course");const t=this.modalService.open(Ce,{size:"lg"});t.componentInstance.personalDetails=this.personalDetailsData,t.componentInstance.instituteDetails=this.instituteDetailsData,t.componentInstance.classDetails=this.classDetailsData,t.componentInstance.courseDetails=this.courseDetailsData,t.componentInstance.images=this.imageUrls,t.componentInstance.profileImage=this.profileImagePreview,t.result.then(o=>{"confirm"===o&&(this.isPreviewOpen=!1,this.submitAllData())},()=>{this.isPreviewOpen=!1})}submitAllData(){this.toastr.success("Registration submitted successfully!")}handleContactSelect(t){(this.showClassFields?this.classForm:this.courseForm).patchValue({contact:t})}handleDeleteLocation(t){this.savedLocations=this.savedLocations.filter((i,s)=>s!==t);const o=this.showClassFields?this.classForm.get("location")?.value:this.courseForm.get("location")?.value;o&&o.id===this.savedLocations[t].id&&(this.showClassFields?this.classForm:this.courseForm).patchValue({location:null})}handleDeleteContact(t){this.savedContacts=this.savedContacts.filter((i,s)=>s!==t);const o=this.showClassFields?this.classForm.get("contact")?.value:this.courseForm.get("contact")?.value;o&&o.id===this.savedContacts[t].id&&(this.showClassFields?this.classForm:this.courseForm).patchValue({contact:null})}openLocationPopup(){const t=this.modalService.open(de,{size:"lg"});t.componentInstance.savedLocations=this.savedLocations,t.result.then(o=>{o&&this.handleLocationSubmit(o)},()=>{})}openContactPopup(){const t=this.modalService.open(ie,{size:"lg"});t.componentInstance.profileDetails=this.personalForm.value,t.componentInstance.submit.subscribe(o=>{this.handleContactSubmit(o)})}closeLocationPopup(){this.isLocationPopupOpen=!1}closeContactPopup(){this.isContactPopupOpen=!1}onPopupClose(t){"class"===t?this.showClassFields=!1:this.showCourseFields=!1,this.editingIndex=null}onTypeChange(){const t=this.showClassFields?this.classForm:this.courseForm;"Online"===t.get("type")?.value?(t.get("location")?.clearValidators(),t.get("location")?.updateValueAndValidity()):(t.get("location")?.setValidators([r.kI.required]),t.get("location")?.updateValueAndValidity())}onCourseTypeChange(){"Online"===this.courseForm.get("type")?.value?(this.courseForm.get("location")?.clearValidators(),this.courseForm.get("location")?.updateValueAndValidity()):(this.courseForm.get("location")?.setValidators([r.kI.required]),this.courseForm.get("location")?.updateValueAndValidity())}getLocationFormatted(t){return t?`${t.address}, ${t.area}, ${t.city}, ${t.state}, ${t.country} - ${t.pincode}`:""}getContactFormatted(t){return t?`${t.tutorFirstName} ${t.tutorLastName}`:""}onClassCategoryChange(){const t=this.classForm.get("category")?.value;this.classSubcategories=this.subcategories.filter(o=>o.categoryId==t),this.classForm.get("subCategory")?.setValue("")}onCourseCategoryChange(){const t=this.courseForm.get("category")?.value;this.courseSubcategories=this.subcategories.filter(o=>o.categoryId==t),this.courseForm.get("subCategory")?.setValue("")}removeProfileImage(){this.profileImagePreview=null,this.personalForm.patchValue({profileImageFile:null}),this.profileImageInput&&(this.profileImageInput.nativeElement.value="")}openAddDetailsModal(){this.modalService.open(this.addDetailsmodal,{size:"md",centered:!0})}selectAddDetails(t,o){o.close(),this.showClassFields="class"===t,this.showCourseFields="course"===t,this.activeAccordion="class"===t?"item-2":"item-3"}processImageUrl(t){return t?t.startsWith("http://")||t.startsWith("https://")?t:`${V.N.imageUrl}${t.startsWith("/")?"":"/"}${t}`:""}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(r.qu),e.Y36(v.FF),e.Y36(R.M),e.Y36(qe._W),e.Y36(b.gz))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-new-ad"]],viewQuery:function(o,i){if(1&o&&(e.Gf(ye,5),e.Gf(Ue,5),e.Gf(xe,5)),2&o){let s;e.iGM(s=e.CRH())&&(i.profileImageInput=s.first),e.iGM(s=e.CRH())&&(i.fileInput=s.first),e.iGM(s=e.CRH())&&(i.addDetailsmodal=s.first)}},decls:181,vars:88,consts:[[1,"container-fluid","p-4"],[1,"text-primary","text-center","mb-2"],[1,"text-center","text-muted","mb-4"],[1,"text-danger","float-end"],["id","adDetailsAccordion",1,"accordion"],[1,"accordion-item",3,"ngClass"],["id","personalDetailsHeader",1,"accordion-header"],["type","button",1,"accordion-button",3,"click"],[1,"d-flex","align-items-center",3,"ngClass"],["class","ri-checkbox-circle-fill text-success ms-2",4,"ngIf"],["id","personalDetailsCollapse",1,"accordion-collapse","collapse",3,"ngClass"],[1,"accordion-body"],[3,"formGroup","ngSubmit"],[1,"row","g-4"],[1,"col-md-6"],[1,"form-label"],[1,"text-danger"],["type","text","formControlName","firstName","placeholder","First Name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","formControlName","lastName","placeholder","Last Name",1,"form-control",3,"ngClass"],[1,"input-group"],["formControlName","countryCode",1,"form-select","flex-shrink-0",2,"max-width","100px"],["value","+91"],["value","+98"],["type","tel","formControlName","phoneNumber","placeholder","Mobile Number",1,"form-control",3,"ngClass"],["class","invalid-feedback d-block",4,"ngIf"],["type","email","formControlName","emailId","placeholder","Email",1,"form-control",3,"ngClass"],["formControlName","gender",1,"form-select",3,"ngClass"],["value",""],["value","Male"],["value","Female"],["value","Trans"],["value","Prefer not to say"],["type","date","formControlName","dob",1,"form-control",3,"ngClass"],[1,"col-12"],[1,"text-muted","d-block","mb-2"],[4,"ngIf"],["class","mb-2 mt-2 position-relative d-inline-block",4,"ngIf"],[1,"d-flex","justify-content-end","mt-4"],["type","submit",1,"btn","btn-primary","px-5",3,"disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],["id","instituteDetailsHeader",1,"accordion-header"],["id","instituteDetailsCollapse",1,"accordion-collapse","collapse",3,"ngClass"],["type","text","formControlName","programTitle","placeholder","e.g. Music classes for 7-18 Age",1,"form-control",3,"ngClass"],[1,"text-muted"],["type","text","formControlName","instituteName","placeholder","Institute Name",1,"form-control",3,"ngClass"],["formControlName","since",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","gstNo","placeholder","GST Number",1,"form-control",3,"ngClass"],[1,"dropzone-container","mb-2"],["type","file","multiple","","accept","image/*",3,"change"],["fileInput",""],["class","image-grid mt-2",4,"ngIf"],[1,"text-muted","d-block"],["rows","5","formControlName","introduction","placeholder","Write about your institute...",1,"form-control",3,"ngClass"],["type","url","formControlName","websiteName","placeholder","https://example.com",1,"form-control",3,"ngClass"],["formControlName","classLevel",1,"form-select"],["value","Individual"],["value","Academy"],["type","text","formControlName","instagramAccount","placeholder","Instagram Account",1,"form-control"],["type","text","formControlName","youtubeAccount","placeholder","YouTube Account",1,"form-control"],[1,"text-center","my-3"],["type","button",1,"btn","btn-primary",3,"click"],[1,"ri-add-line","me-2"],["class","accordion-item",3,"ngClass",4,"ngIf"],["class","mt-4",4,"ngIf"],[1,"d-flex","justify-content-center","mt-4"],[1,"btn","btn-success","px-5","py-2",3,"disabled","click"],["addDetailsmodal",""],[1,"ri-checkbox-circle-fill","text-success","ms-2"],[1,"invalid-feedback"],[1,"invalid-feedback","d-block"],["type","file","accept","image/*",3,"change"],["profileImageInput",""],[1,"mb-2","mt-2","position-relative","d-inline-block"],["alt","Profile Preview",2,"max-width","120px","max-height","120px","border-radius","8px","object-fit","cover",3,"src"],["type","button",1,"btn","btn-danger","btn-sm","position-absolute","top-0","end-0",2,"transform","translate(40%,-40%)",3,"click"],[1,"ri-close-line"],[1,"spinner-border","spinner-border-sm","me-2"],[3,"value"],[1,"image-grid","mt-2"],["class","image-item d-inline-block me-2 mb-2",4,"ngFor","ngForOf"],[1,"image-item","d-inline-block","me-2","mb-2"],[2,"width","100px","height","100px","object-fit","cover",3,"src","alt"],["type","button",1,"btn","btn-danger","btn-sm","me-1",3,"click"],[1,"ri-delete-bin-line"],["type","button",1,"btn","btn-success","btn-sm",3,"click"],["id","classDetailsHeader",1,"accordion-header"],[1,"d-flex","align-items-center"],["id","classDetailsCollapse",1,"accordion-collapse","collapse",3,"ngClass"],[1,"col-md-4"],["type","text","formControlName","className","placeholder","Class Name",1,"form-control",3,"ngClass"],["formControlName","category",1,"form-select",3,"change"],["formControlName","subCategory",1,"form-select",3,"disabled"],["type","time","formControlName","timingsFrom",1,"form-control",3,"ngClass"],["type","time","formControlName","timingsTo",1,"form-control",3,"ngClass"],[1,"d-flex","flex-wrap","gap-2"],[4,"ngFor","ngForOf"],[1,"col-md-2"],["type","number","formControlName","fromage","min","0","placeholder","From Age",1,"form-control"],["type","number","formControlName","toage","min","0","placeholder","To Age",1,"form-control",3,"ngClass"],["type","number","formControlName","fromcost","min","0","placeholder","From Cost",1,"form-control"],["type","number","formControlName","tocost","min","0","placeholder","To Cost",1,"form-control",3,"ngClass"],["formControlName","gender",1,"form-select"],["value","both"],["value","male"],["value","female"],["formControlName","experienceLevel",1,"form-select"],["value","beginner"],["value","intermediate"],["value","advanced"],["type","number","formControlName","noOfSessions","min","1","placeholder","No. of Sessions",1,"form-control"],["formControlName","type",1,"form-select",3,"change"],["value","Online"],["value","Offline"],["formControlName","location",1,"form-select"],[3,"ngValue",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-outline-primary","btn-sm","mt-1",3,"click"],["formControlName","contact",1,"form-select"],["type","checkbox",3,"id","checked","change"],[1,"me-2","mr-2",3,"for"],[3,"ngValue"],["id","courseDetailsHeader",1,"accordion-header"],["id","courseDetailsCollapse",1,"accordion-collapse","collapse",3,"ngClass"],["type","text","formControlName","courseName","placeholder","Course Name",1,"form-control",3,"ngClass"],[1,"me-2",3,"for"],[1,"mt-4"],["class","table-responsive mb-3",4,"ngIf"],[1,"table-responsive","mb-3"],[1,"table","table-bordered"],[1,"btn","btn-sm","btn-outline-primary","me-1",3,"click"],[1,"ri-edit-line"],[1,"btn","btn-sm","btn-outline-info","me-1",3,"click"],[1,"ri-file-copy-line"],[1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"modal-content"],[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","text-center"],[1,"d-flex","justify-content-center","gap-3"],[1,"card","col-6","align-items-center","text-center","p-3","cursor-pointer","shadow-sm",3,"click"],["src","assets/images/Video.svg","height","56","width","56","alt","Class Details"],[1,"h6","mt-2"],[1,"text-muted","fw-medium"],["src","assets/images/Books.svg","height","56","width","56","alt","Course Form"],["type","button","data-bs-dismiss","modal",1,"btn","w-100","btn-outline-secondary","mt-3",3,"click"]],template:function(o,i){if(1&o&&(e.TgZ(0,"div",0)(1,"h2",1),e._uU(2,"Registration Form"),e.qZA(),e.TgZ(3,"p",2),e._uU(4," Add details about your Institute with high-quality photos and class details "),e.TgZ(5,"span",3),e._uU(6,"* Required Fields"),e.qZA()(),e.TgZ(7,"div",4)(8,"div",5)(9,"h2",6)(10,"button",7),e.NdJ("click",function(){return i.onAccordionClick("item-0")}),e.TgZ(11,"div",8),e._uU(12," Profile Details "),e.YNc(13,Ne,1,0,"i",9),e.qZA()()(),e.TgZ(14,"div",10)(15,"div",11)(16,"form",12),e.NdJ("ngSubmit",function(){return i.savePersonalDetails()}),e.TgZ(17,"div",13)(18,"div",14)(19,"label",15),e._uU(20,"First Name"),e.TgZ(21,"span",16),e._uU(22,"*"),e.qZA()(),e._UZ(23,"input",17),e.YNc(24,De,2,0,"div",18),e.qZA(),e.TgZ(25,"div",14)(26,"label",15),e._uU(27,"Last Name"),e.TgZ(28,"span",16),e._uU(29,"*"),e.qZA()(),e._UZ(30,"input",19),e.YNc(31,Fe,2,0,"div",18),e.qZA(),e.TgZ(32,"div",14)(33,"label",15),e._uU(34,"Mobile"),e.TgZ(35,"span",16),e._uU(36,"*"),e.qZA()(),e.TgZ(37,"div",20)(38,"select",21)(39,"option",22),e._uU(40,"+91"),e.qZA(),e.TgZ(41,"option",23),e._uU(42,"+98"),e.qZA()(),e._UZ(43,"input",24),e.qZA(),e.YNc(44,Je,3,2,"div",25),e.qZA(),e.TgZ(45,"div",14)(46,"label",15),e._uU(47,"Email"),e.TgZ(48,"span",16),e._uU(49,"*"),e.qZA()(),e._UZ(50,"input",26),e.YNc(51,Pe,3,2,"div",18),e.qZA(),e.TgZ(52,"div",14)(53,"label",15),e._uU(54,"Gender"),e.TgZ(55,"span",16),e._uU(56,"*"),e.qZA()(),e.TgZ(57,"select",27)(58,"option",28),e._uU(59,"Select Gender"),e.qZA(),e.TgZ(60,"option",29),e._uU(61,"Male"),e.qZA(),e.TgZ(62,"option",30),e._uU(63,"Female"),e.qZA(),e.TgZ(64,"option",31),e._uU(65,"Trans"),e.qZA(),e.TgZ(66,"option",32),e._uU(67,"Prefer not to say"),e.qZA()(),e.YNc(68,Qe,2,0,"div",18),e.qZA(),e.TgZ(69,"div",14)(70,"label",15),e._uU(71,"Date of Birth"),e.qZA(),e._UZ(72,"input",33),e.YNc(73,Le,2,0,"div",18),e.qZA(),e.TgZ(74,"div",34)(75,"label",15),e._uU(76,"Profile Image"),e.qZA(),e.TgZ(77,"small",35),e._uU(78,"Max 5MB. JPG, PNG only."),e.qZA(),e.YNc(79,Me,3,0,"div",36),e.YNc(80,Oe,4,1,"div",37),e.qZA()(),e.TgZ(81,"div",38)(82,"button",39),e.YNc(83,Ye,1,0,"span",40),e._uU(84),e.qZA()()()()()(),e.TgZ(85,"div",5)(86,"h2",41)(87,"button",7),e.NdJ("click",function(){return i.onAccordionClick("item-1")}),e.TgZ(88,"div",8),e._uU(89," Institute Details "),e.YNc(90,Ee,1,0,"i",9),e.qZA()()(),e.TgZ(91,"div",42)(92,"div",11)(93,"form",12),e.NdJ("ngSubmit",function(){return i.saveInstituteDetails()}),e.TgZ(94,"div",13)(95,"div",14)(96,"label",15),e._uU(97,"Program Title"),e.TgZ(98,"span",16),e._uU(99,"*"),e.qZA()(),e._UZ(100,"input",43),e.YNc(101,je,2,0,"div",18),e.TgZ(102,"small",44),e._uU(103,"Displayed on front page"),e.qZA()(),e.TgZ(104,"div",14)(105,"label",15),e._uU(106,"Institute Name"),e.TgZ(107,"span",16),e._uU(108,"*"),e.qZA()(),e._UZ(109,"input",45),e.YNc(110,Ve,2,0,"div",18),e.qZA(),e.TgZ(111,"div",14)(112,"label",15),e._uU(113,"Since"),e.qZA(),e.TgZ(114,"select",46)(115,"option",28),e._uU(116,"Select Year"),e.qZA(),e.YNc(117,Re,2,2,"option",47),e.qZA()(),e.TgZ(118,"div",14)(119,"label",15),e._uU(120,"GST Number"),e.qZA(),e._UZ(121,"input",48),e.YNc(122,Ge,2,0,"div",18),e.qZA(),e.TgZ(123,"div",34)(124,"label",15),e._uU(125,"Photos"),e.TgZ(126,"span",16),e._uU(127,"*"),e.qZA()(),e.TgZ(128,"div",49)(129,"input",50,51),e.NdJ("change",function(l){return i.handleImageUpload(l)}),e.qZA(),e.YNc(131,$e,2,1,"div",52),e.TgZ(132,"small",53),e._uU(133,"Maximum 8 images. Size limit: 8MB each"),e.qZA()()(),e.TgZ(134,"div",34)(135,"label",15),e._uU(136,"Introduction"),e.TgZ(137,"span",16),e._uU(138,"*"),e.qZA()(),e._UZ(139,"textarea",54),e.YNc(140,We,3,2,"div",18),e.qZA(),e.TgZ(141,"div",14)(142,"label",15),e._uU(143,"Website"),e.qZA(),e._UZ(144,"input",55),e.YNc(145,Be,2,0,"div",18),e.qZA(),e.TgZ(146,"div",14)(147,"label",15),e._uU(148,"Class Level"),e.qZA(),e.TgZ(149,"select",56)(150,"option",28),e._uU(151,"Select Class Level"),e.qZA(),e.TgZ(152,"option",57),e._uU(153,"Individual"),e.qZA(),e.TgZ(154,"option",58),e._uU(155,"Academy"),e.qZA()()(),e.TgZ(156,"div",14)(157,"label",15),e._uU(158,"Instagram Account"),e.qZA(),e._UZ(159,"input",59),e.qZA(),e.TgZ(160,"div",14)(161,"label",15),e._uU(162,"YouTube Account"),e.qZA(),e._UZ(163,"input",60),e.qZA()(),e.TgZ(164,"div",38)(165,"button",39),e.YNc(166,Xe,1,0,"span",40),e._uU(167),e.qZA()()()()()(),e.TgZ(168,"div",61)(169,"button",62),e.NdJ("click",function(){return i.openAddDetailsModal()}),e._UZ(170,"i",63),e._uU(171,"Add Class/Course "),e.qZA()(),e.YNc(172,mt,137,40,"div",64),e.YNc(173,xt,137,40,"div",64),e.YNc(174,wt,3,2,"div",65),e.YNc(175,Lt,26,1,"div",65),e.TgZ(176,"div",66)(177,"button",67),e.NdJ("click",function(){return i.handleFinalSubmit()}),e._uU(178),e.qZA()()()(),e.YNc(179,Mt,19,0,"ng-template",null,68,e.W1O)),2&o){let s,l,c,u,m,p,d,h,Z,A,T,N,D,F,I,w,J,k,S,P,Q,L;e.xp6(8),e.Q6J("ngClass",e.VKq(52,q,"item-0"===i.activeAccordion)),e.xp6(2),e.ekj("collapsed","item-0"!==i.activeAccordion),e.xp6(1),e.Q6J("ngClass",e.WLB(54,G,i.completedSections.personalDetails||"item-0"===i.activeAccordion,!i.completedSections.personalDetails&&"item-0"!==i.activeAccordion)),e.xp6(2),e.Q6J("ngIf",i.completedSections.personalDetails),e.xp6(1),e.Q6J("ngClass",e.VKq(57,y,"item-0"===i.activeAccordion)),e.xp6(2),e.Q6J("formGroup",i.personalForm),e.xp6(7),e.Q6J("ngClass",e.VKq(59,_,(null==(s=i.personalForm.get("firstName"))?null:s.touched)&&(null==(s=i.personalForm.get("firstName"))?null:s.errors))),e.xp6(1),e.Q6J("ngIf",(null==(l=i.personalForm.get("firstName"))?null:l.touched)&&(null==(l=i.personalForm.get("firstName"))?null:l.errors)),e.xp6(6),e.Q6J("ngClass",e.VKq(61,_,(null==(c=i.personalForm.get("lastName"))?null:c.touched)&&(null==(c=i.personalForm.get("lastName"))?null:c.errors))),e.xp6(1),e.Q6J("ngIf",(null==(u=i.personalForm.get("lastName"))?null:u.touched)&&(null==(u=i.personalForm.get("lastName"))?null:u.errors)),e.xp6(12),e.Q6J("ngClass",e.VKq(63,_,(null==(m=i.personalForm.get("phoneNumber"))?null:m.touched)&&(null==(m=i.personalForm.get("phoneNumber"))?null:m.errors))),e.xp6(1),e.Q6J("ngIf",(null==(p=i.personalForm.get("phoneNumber"))?null:p.touched)&&(null==(p=i.personalForm.get("phoneNumber"))?null:p.errors)),e.xp6(6),e.Q6J("ngClass",e.VKq(65,_,(null==(d=i.personalForm.get("emailId"))?null:d.touched)&&(null==(d=i.personalForm.get("emailId"))?null:d.errors))),e.xp6(1),e.Q6J("ngIf",(null==(h=i.personalForm.get("emailId"))?null:h.touched)&&(null==(h=i.personalForm.get("emailId"))?null:h.errors)),e.xp6(6),e.Q6J("ngClass",e.VKq(67,_,(null==(Z=i.personalForm.get("gender"))?null:Z.touched)&&(null==(Z=i.personalForm.get("gender"))?null:Z.errors))),e.xp6(11),e.Q6J("ngIf",(null==(A=i.personalForm.get("gender"))?null:A.touched)&&(null==(A=i.personalForm.get("gender"))?null:A.errors)),e.xp6(4),e.Q6J("ngClass",e.VKq(69,_,(null==(T=i.personalForm.get("dob"))?null:T.touched)&&(null==(T=i.personalForm.get("dob"))?null:T.errors))),e.xp6(1),e.Q6J("ngIf",(null==(N=i.personalForm.get("dob"))?null:N.touched)&&(null==(N=i.personalForm.get("dob"))?null:N.errors)),e.xp6(6),e.Q6J("ngIf",!i.profileImagePreview),e.xp6(1),e.Q6J("ngIf",i.profileImagePreview),e.xp6(2),e.Q6J("disabled",i.isLoading),e.xp6(1),e.Q6J("ngIf",i.isLoading),e.xp6(1),e.hij(" ",i.isLoading?"Saving...":"Save & Continue"," "),e.xp6(1),e.Q6J("ngClass",e.VKq(71,q,"item-1"===i.activeAccordion)),e.xp6(2),e.ekj("collapsed","item-1"!==i.activeAccordion),e.xp6(1),e.Q6J("ngClass",e.WLB(73,G,i.completedSections.instituteDetails||"item-1"===i.activeAccordion,!i.completedSections.instituteDetails&&"item-1"!==i.activeAccordion)),e.xp6(2),e.Q6J("ngIf",i.completedSections.instituteDetails),e.xp6(1),e.Q6J("ngClass",e.VKq(76,y,"item-1"===i.activeAccordion)),e.xp6(2),e.Q6J("formGroup",i.instituteForm),e.xp6(7),e.Q6J("ngClass",e.VKq(78,_,(null==(D=i.instituteForm.get("programTitle"))?null:D.touched)&&(null==(D=i.instituteForm.get("programTitle"))?null:D.errors))),e.xp6(1),e.Q6J("ngIf",(null==(F=i.instituteForm.get("programTitle"))?null:F.touched)&&(null==(F=i.instituteForm.get("programTitle"))?null:F.errors)),e.xp6(8),e.Q6J("ngClass",e.VKq(80,_,(null==(I=i.instituteForm.get("instituteName"))?null:I.touched)&&(null==(I=i.instituteForm.get("instituteName"))?null:I.errors))),e.xp6(1),e.Q6J("ngIf",(null==(w=i.instituteForm.get("instituteName"))?null:w.touched)&&(null==(w=i.instituteForm.get("instituteName"))?null:w.errors)),e.xp6(7),e.Q6J("ngForOf",i.yearsList),e.xp6(4),e.Q6J("ngClass",e.VKq(82,_,(null==(J=i.instituteForm.get("gstNo"))?null:J.touched)&&(null==(J=i.instituteForm.get("gstNo"))?null:J.errors))),e.xp6(1),e.Q6J("ngIf",(null==(k=i.instituteForm.get("gstNo"))?null:k.touched)&&(null==(k=i.instituteForm.get("gstNo"))?null:k.errors)),e.xp6(9),e.Q6J("ngIf",i.imageUrls.length),e.xp6(8),e.Q6J("ngClass",e.VKq(84,_,(null==(S=i.instituteForm.get("introduction"))?null:S.touched)&&(null==(S=i.instituteForm.get("introduction"))?null:S.errors))),e.xp6(1),e.Q6J("ngIf",(null==(P=i.instituteForm.get("introduction"))?null:P.touched)&&(null==(P=i.instituteForm.get("introduction"))?null:P.errors)),e.xp6(4),e.Q6J("ngClass",e.VKq(86,_,(null==(Q=i.instituteForm.get("websiteName"))?null:Q.touched)&&(null==(Q=i.instituteForm.get("websiteName"))?null:Q.errors))),e.xp6(1),e.Q6J("ngIf",(null==(L=i.instituteForm.get("websiteName"))?null:L.touched)&&(null==(L=i.instituteForm.get("websiteName"))?null:L.errors)),e.xp6(20),e.Q6J("disabled",i.isLoading),e.xp6(1),e.Q6J("ngIf",i.isLoading),e.xp6(1),e.hij(" ",i.isLoading?"Saving...":"Save & Continue"," "),e.xp6(5),e.Q6J("ngIf",i.showClassFields),e.xp6(1),e.Q6J("ngIf",i.showCourseFields),e.xp6(1),e.Q6J("ngIf",i.classDetailsData.length>0||i.courseDetailsData.length>0),e.xp6(1),e.Q6J("ngIf",i.savedLocations.length||i.savedContacts.length),e.xp6(2),e.Q6J("disabled",i.isLoading),e.xp6(1),e.hij(" ",i.isLoading?"Submitting...":"Submit Registration"," ")}},dependencies:[f.mk,f.sg,f.O5,r._Y,r.YN,r.Kr,r.Fj,r.wV,r.EJ,r.JJ,r.JL,r.qQ,r.sg,r.u]})}return n})();class U{static ageValidator(){return a=>{if(!a.value)return null;const t=new Date,o=new Date(a.value),i=t.getFullYear()-o.getFullYear(),s=t.getMonth()-o.getMonth(),l=t.getDate()-o.getDate();return i>16||16===i&&(s>0||0===s&&l>=0)?null:{minAge:!0}}}static timeRangeValidator(){return a=>{const t=a.parent;if(!t)return null;const o=t.get("timingsFrom")?.value,i=t.get("timingsTo")?.value;if(!o||!i)return null;const[s,l]=o.split(":").map(Number),[c,u]=i.split(":").map(Number),m=60*s+l,p=60*c+u,h=(p<=m?p+1440:p)-m;return h<=0||h>720?{invalidTimeRange:!0}:null}}static phoneNumberValidator(){return a=>/^\+?[1-9]\d{1,14}$/.test(a.value)?null:{invalidPhone:!0}}}function x(n,a,t){return o=>{const i=o.get(n)?.value,s=o.get(a)?.value;if(null!==i&&null!==s&&""!==i&&""!==s&&Number(s)>0&&Number(s)<Number(i)){const l={[t]:!0};return o.get(a)?.setErrors(l),l}return o.get(a)?.hasError(t)&&o.get(a)?.setErrors(null),null}}var Ot=g(2012);function Yt(n,a){1&n&&(e.TgZ(0,"div",14)(1,"div",15)(2,"span",16),e._uU(3,"Loading..."),e.qZA()()())}function Et(n,a){if(1&n&&e._UZ(0,"img",53),2&n){const t=e.oxw(2);e.Q6J("src",t.activity.thumbnailImage,e.LSH)}}function jt(n,a){if(1&n&&e._UZ(0,"img",54),2&n){const t=e.oxw().$implicit,o=e.oxw(2);e.Q6J("src",t,e.LSH)("alt",o.activity.title)}}function Vt(n,a){1&n&&e.YNc(0,jt,1,2,"ng-template",31)}function Rt(n,a){if(1&n&&e._UZ(0,"img",57),2&n){const t=a.$implicit,o=e.oxw(3);e.Q6J("src",t,e.LSH)("alt",o.activity.title)}}function Gt(n,a){if(1&n&&(e.TgZ(0,"div",55),e.YNc(1,Rt,1,2,"img",56),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.activity.images)}}function Kt(n,a){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA()()),2&n){const t=a.$implicit;e.xp6(2),e.Oqu(t.type),e.xp6(2),e.Oqu(t.day),e.xp6(2),e.AsE("",t.timingsFrom," - ",t.timingsTo,""),e.xp6(2),e.AsE("",t.ageFrom," - ",t.ageTo,""),e.xp6(2),e.AsE("",t.sessionFrom," - ",t.sessionTo,""),e.xp6(2),e.Oqu(t.gender),e.xp6(2),e.AsE("",t.fromPrice," - ",t.toPrice,"")}}function $t(n,a){if(1&n&&(e.TgZ(0,"div",34)(1,"div",35)(2,"h6",36),e._uU(3,"Class Details"),e.qZA(),e.TgZ(4,"div",58)(5,"table",59)(6,"thead",60)(7,"tr")(8,"th"),e._uU(9,"Type"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Day"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Timing"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Age"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Session"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Gender"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Price"),e.qZA()()(),e.TgZ(22,"tbody"),e.YNc(23,Kt,15,11,"tr",32),e.qZA()()()()()),2&n){const t=e.oxw(2);e.xp6(23),e.Q6J("ngForOf",t.activity.classDetails)}}function Ht(n,a){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA()()),2&n){const t=a.$implicit;e.xp6(2),e.Oqu(t.type),e.xp6(2),e.Oqu(t.day),e.xp6(2),e.AsE("",t.timingsFrom," - ",t.timingsTo,""),e.xp6(2),e.AsE("",t.ageFrom," - ",t.ageTo,""),e.xp6(2),e.AsE("",t.sessionFrom," - ",t.sessionTo,""),e.xp6(2),e.Oqu(t.gender),e.xp6(2),e.AsE("",t.fromPrice," - ",t.toPrice,"")}}function zt(n,a){if(1&n&&(e.TgZ(0,"div",34)(1,"div",35)(2,"h6",36),e._uU(3,"Course Details"),e.qZA(),e.TgZ(4,"div",58)(5,"table",59)(6,"thead",60)(7,"tr")(8,"th"),e._uU(9,"Type"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Day"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Timing"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Age"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Session"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Gender"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Price"),e.qZA()()(),e.TgZ(22,"tbody"),e.YNc(23,Ht,15,11,"tr",32),e.qZA()()()()()),2&n){const t=e.oxw(2);e.xp6(23),e.Q6J("ngForOf",t.activity.courseDetails)}}function Wt(n,a){if(1&n&&(e.TgZ(0,"li",47)(1,"span",48),e._uU(2,"Intro:"),e.qZA(),e.TgZ(3,"span",61),e._uU(4),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(4),e.Oqu(t.activity.tutorIntro)}}function Bt(n,a){if(1&n&&(e.TgZ(0,"li",47)(1,"span",48),e._uU(2,"Email:"),e.qZA(),e.TgZ(3,"a",62),e._uU(4),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("href","mailto:"+t.activity.tutorEmailID,e.LSH),e.xp6(1),e.Oqu(t.activity.tutorEmailID)}}function Xt(n,a){if(1&n&&(e.TgZ(0,"li",47)(1,"span",48),e._uU(2,"Phone:"),e.qZA(),e.TgZ(3,"a",62),e._uU(4),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("href","tel:"+t.getPhoneNumber(),e.LSH),e.xp6(1),e.Oqu(t.getPhoneNumber())}}function ei(n,a){if(1&n&&(e.TgZ(0,"li",47)(1,"span",48),e._uU(2,"Whatsapp:"),e.qZA(),e.TgZ(3,"a",62),e._uU(4),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("href","tel:"+t.getWhatsappNumber(),e.LSH),e.xp6(1),e.Oqu(t.getWhatsappNumber())}}function ti(n,a){if(1&n&&(e.TgZ(0,"li",47)(1,"span",48),e._uU(2,"Address:"),e.qZA(),e._UZ(3,"span",63),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("innerHTML",t.getFullAddress(),e.oJD)}}function ii(n,a){if(1&n&&(e.TgZ(0,"li")(1,"a",64),e._uU(2,"Get Direction"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("href",t.getGoogleMapsUrl(),e.LSH)}}function oi(n,a){1&n&&(e.TgZ(0,"div",65),e._UZ(1,"div",66),e.qZA())}function ni(n,a){if(1&n&&(e.TgZ(0,"div",17)(1,"div",18)(2,"div",19)(3,"div",20)(4,"div",21)(5,"div")(6,"div",22),e._uU(7),e.qZA(),e.TgZ(8,"div",23),e._uU(9),e.qZA(),e.TgZ(10,"div",23),e._uU(11,"By "),e.TgZ(12,"b"),e._uU(13),e.qZA()()()(),e.TgZ(14,"div",24)(15,"span",25),e._uU(16),e.qZA(),e.TgZ(17,"span",26),e._uU(18),e.qZA()(),e.TgZ(19,"div",24)(20,"div",27),e._uU(21,"Description"),e.qZA(),e.TgZ(22,"div",28),e._uU(23),e.qZA()(),e.TgZ(24,"div",29)(25,"ngb-carousel",30),e.YNc(26,Et,1,1,"ng-template",31),e.YNc(27,Vt,1,0,null,32),e.qZA()(),e.YNc(28,Gt,2,1,"div",33),e.qZA()(),e.TgZ(29,"div",34)(30,"div",35)(31,"h6",36),e._uU(32,"About Activity"),e.qZA(),e.TgZ(33,"div",37)(34,"div",38)(35,"strong"),e._uU(36,"Age Restriction"),e.qZA(),e._UZ(37,"br"),e.TgZ(38,"span"),e._uU(39),e.qZA()(),e.TgZ(40,"div",38)(41,"strong"),e._uU(42,"Session"),e.qZA(),e._UZ(43,"br"),e.TgZ(44,"span"),e._uU(45),e.qZA()(),e.TgZ(46,"div",38)(47,"strong"),e._uU(48,"Rate"),e.qZA(),e._UZ(49,"br"),e.TgZ(50,"span"),e._uU(51),e.qZA()()()()(),e.YNc(52,$t,24,1,"div",39),e.YNc(53,zt,24,1,"div",39),e.TgZ(54,"div",34)(55,"div",35)(56,"h6",40),e._uU(57,"Items to Carry for the activity"),e.qZA()()()(),e.TgZ(58,"div",41)(59,"div",42)(60,"div",20)(61,"div",43),e._uU(62,"Contact Information"),e.qZA(),e.TgZ(63,"div",44),e._UZ(64,"img",45),e.qZA(),e.TgZ(65,"ul",46)(66,"li",47)(67,"span",48),e._uU(68,"Institute:"),e.qZA(),e.TgZ(69,"span",49),e._uU(70),e.qZA()(),e.YNc(71,Wt,5,1,"li",50),e.YNc(72,Bt,5,2,"li",50),e.YNc(73,Xt,5,2,"li",50),e.YNc(74,ei,5,2,"li",50),e.YNc(75,ti,4,1,"li",50),e.YNc(76,ii,3,1,"li",51),e.qZA()()(),e.YNc(77,oi,2,0,"div",52),e.qZA()()),2&n){const t=e.oxw();e.xp6(7),e.Oqu(t.activity.title),e.xp6(2),e.hij("Since ",t.activity.sinceYear||"-",""),e.xp6(4),e.Oqu(t.activity.companyName),e.xp6(3),e.Oqu(t.activity.type),e.xp6(2),e.Oqu(t.activity.subCategoryId),e.xp6(5),e.Oqu(t.activity.description),e.xp6(2),e.Q6J("showNavigationIndicators",!0)("interval",4e3),e.xp6(2),e.Q6J("ngForOf",t.activity.images),e.xp6(1),e.Q6J("ngIf",null==t.activity.images?null:t.activity.images.length),e.xp6(11),e.AsE("",t.activity.ageRestrictionFrom," - ",t.activity.ageRestrictionTo," years"),e.xp6(6),e.AsE("",t.activity.sessionCountFrom," - ",t.activity.sessionCountTo,""),e.xp6(6),e.hij(" ",t.activity.rate,""),e.xp6(1),e.Q6J("ngIf",null==t.activity.classDetails?null:t.activity.classDetails.length),e.xp6(1),e.Q6J("ngIf",null==t.activity.courseDetails?null:t.activity.courseDetails.length),e.xp6(11),e.Q6J("src",t.activity.profileImage||"https://via.placeholder.com/100",e.LSH),e.xp6(6),e.Oqu(t.activity.companyName),e.xp6(1),e.Q6J("ngIf",t.activity.tutorIntro),e.xp6(1),e.Q6J("ngIf",t.activity.tutorEmailID),e.xp6(1),e.Q6J("ngIf",t.activity.tutorPhoneNo),e.xp6(1),e.Q6J("ngIf",t.activity.whatsappNo),e.xp6(1),e.Q6J("ngIf",t.activity.address||t.activity.road),e.xp6(1),e.Q6J("ngIf",t.activity.longitude&&t.activity.latitude),e.xp6(1),e.Q6J("ngIf",t.activity.longitude&&t.activity.latitude)}}function si(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",67)(1,"h5",68),e._uU(2,"Approve Activity"),e.qZA(),e.TgZ(3,"button",69),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss())}),e.qZA()(),e.TgZ(4,"div",70)(5,"p"),e._uU(6,"Are you sure you want to approve this activity?"),e.qZA(),e.TgZ(7,"div",24)(8,"strong"),e._uU(9,"Title:"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"div",24)(12,"strong"),e._uU(13,"Description:"),e.qZA(),e._uU(14),e.qZA()(),e.TgZ(15,"div",71)(16,"button",72),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss())}),e._uU(17,"Cancel"),e.qZA(),e.TgZ(18,"button",73),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.approveActivity())}),e._uU(19,"Approve"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(10),e.hij(" ",null==t.selectedActivity?null:t.selectedActivity.title," "),e.xp6(4),e.hij(" ",null==t.selectedActivity?null:t.selectedActivity.description," ")}}let ai=(()=>{class n{constructor(t,o,i,s,l){this.route=t,this.activityService=o,this.modalService=i,this.toastr=s,this.router=l,this.activity=null,this.vendorActivities=[],this.isLoading=!0,this.selectedActivity=null,this.vendorId=null}ngOnInit(){this.route.params.subscribe(t=>{this.vendorId=+t.id,this.fetchVendorActivities()})}fetchVendorActivities(){this.vendorId&&(this.isLoading=!0,this.activityService.getVendorActivities(this.vendorId).subscribe({next:t=>{this.vendorActivities=t,t.length>0?this.fetchActivityDetails(t[0].id):(this.isLoading=!1,this.toastr.showWarning("No activities found for this vendor","Warning"))},error:t=>{console.error("Error fetching vendor activities:",t),this.isLoading=!1,this.toastr.showError("Error loading vendor activities","Error")}}))}fetchActivityDetails(t){this.isLoading=!0,this.activityService.getActivityById(t).subscribe({next:o=>{console.log("Activity data:",o),console.log("Thumbnail image:",o.thumbnailImage),console.log("Gallery images:",o.images),console.log("Profile image:",o.profileImage),o.thumbnailImage&&(o.thumbnailImage=this.processImageUrl(o.thumbnailImage)),o.images&&(o.images=o.images.map(i=>this.processImageUrl(i))),o.profileImage&&(o.profileImage=this.processImageUrl(o.profileImage)),this.activity=o,this.isLoading=!1},error:o=>{console.error("Error fetching activity details:",o),this.isLoading=!1,this.toastr.showError("Error loading activity details","Error")}})}processImageUrl(t){return t?t.startsWith("http://")||t.startsWith("https://")?t:`${V.N.imageUrl}${t.startsWith("/")?"":"/"}${t}`:""}openApproveModal(t,o){o&&(this.selectedActivity=o,this.modalService.open(t,{centered:!0}))}approveActivity(){this.selectedActivity&&this.activityService.approveActivity(this.selectedActivity.id).subscribe({next:t=>{this.modalService.dismissAll(),this.toastr.showSuccess(t?.message||"Activity approved successfully","Success"),this.activity&&(this.activity.approved=!0)},error:t=>{console.error("Error approving activity:",t),this.toastr.showError("Error approving activity","Error")}})}getFullName(){return this.activity?`${this.activity.tutorFirstName||""} ${this.activity.tutorLastName||""}`.trim():""}getFullAddress(){return this.activity?[this.activity.address,this.activity.road,`${this.activity.area}, ${this.activity.city} - ${this.activity.pincode}`,`${this.activity.state}, ${this.activity.country}`].filter(Boolean).join("<br>"):""}getPhoneNumber(){return this.activity?`${this.activity.tutorCountryCode||""} ${this.activity.tutorPhoneNo||""}`.trim():""}getWhatsappNumber(){return this.activity?`${this.activity.whatsappCountryCode||""} ${this.activity.whatsappNo||""}`.trim():""}getGoogleMapsUrl(){return this.activity?.latitude&&this.activity?.longitude?`https://www.google.com/maps?q=${this.activity.latitude},${this.activity.longitude}`:""}onActivitySelect(t){this.fetchActivityDetails(t)}onEditActivity(){this.router.navigate(["/activities/activity-edit",this.activity.id])}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(b.gz),e.Y36(R.M),e.Y36(v.FF),e.Y36(Ot.E),e.Y36(b.F0))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-activity-details"]],decls:22,vars:7,consts:[["id","vendor-details",1,"container-fluid","py-3"],[1,"row","align-items-center","mb-4","sticky-top","bg-white","shadow-sm","py-2",2,"z-index","10","top","0"],[1,"col-md-8","d-flex","flex-column","flex-md-row","align-items-md-center","gap-2"],[1,"fw-bold","fs-4","mb-2","mb-md-0"],[1,"d-flex","gap-2"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-success",3,"disabled","click"],[1,"btn","btn-warning"],[1,"btn","btn-danger"],[1,"col-md-4","text-end"],[1,"small"],["class","text-center py-5",4,"ngIf"],["class","row g-4",4,"ngIf"],["approveModal",""],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"row","g-4"],[1,"col-lg-7"],[1,"card","mb-3","shadow-md"],[1,"card-body","p-4"],[1,"d-flex","align-items-center","mb-3","gap-3"],[1,"fw-bold","fs-5","mb-1"],[1,"text-muted","small"],[1,"mb-3"],[1,"badge","bg-secondary","me-2"],[1,"badge","bg-info"],[1,"fw-semibold"],[1,"text-muted"],[1,"mb-3","position-relative","text-center"],[3,"showNavigationIndicators","interval"],["ngbSlide",""],[4,"ngFor","ngForOf"],["class","d-flex flex-wrap justify-content-center gap-2 mb-3",4,"ngIf"],[1,"card","mb-3"],[1,"card-body","bg-light","rounded-3"],[1,"mb-3","fw-bold","text-primary"],[1,"row","text-center"],[1,"col-md-4","mb-2"],["class","card mb-3",4,"ngIf"],[1,"fw-bold","text-black"],[1,"col-lg-5"],[1,"card","shadow-sm","mb-3","bg-light","border-0","rounded-4"],[1,"fw-bold","fs-5","mb-3","text-center","text-primary"],[1,"d-flex","flex-column","align-items-center","mb-3"],["alt","Profile",1,"rounded-circle","border","border-3","border-white","shadow",2,"width","100px","height","100px","object-fit","cover","background","#e0e7ef",3,"src"],[1,"list-unstyled","mb-0"],[1,"mb-2"],[1,"fw-semibold","text-primary"],[1,"ms-1"],["class","mb-2",4,"ngIf"],[4,"ngIf"],["class","card",4,"ngIf"],["alt","Activity Image",1,"img-fluid","rounded","w-100",2,"max-width","450px","max-height","450px","border","6px solid #fff","box-shadow","0 0 10px #ccc",3,"src"],[1,"img-fluid","rounded","w-100",2,"max-width","450px","max-height","450px","border","6px solid #fff","box-shadow","0 0 10px #ccc",3,"src","alt"],[1,"d-flex","flex-wrap","justify-content-center","gap-2","mb-3"],["class","img-fluid","style","width: 60px; height: 60px; object-fit: cover; border-radius: 6px;",3,"src","alt",4,"ngFor","ngForOf"],[1,"img-fluid",2,"width","60px","height","60px","object-fit","cover","border-radius","6px",3,"src","alt"],[1,"table-responsive"],[1,"table","table-bordered","table-sm","align-middle","class-details-table"],[1,"table-light"],[1,"ms-1","d-block"],[1,"ms-1","text-decoration-none",3,"href"],[1,"ms-1","d-block",3,"innerHTML"],["target","_blank",1,"text-primary","text-decoration-underline",3,"href"],[1,"card"],[1,"card-body","p-0"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","button",1,"btn","btn-success",3,"click"]],template:function(o,i){if(1&o){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4,"Edit / Approve / Reject / Delete the following Ad :"),e.qZA(),e.TgZ(5,"div",4)(6,"button",5),e.NdJ("click",function(){return i.onEditActivity()}),e._uU(7,"Edit"),e.qZA(),e.TgZ(8,"button",6),e.NdJ("click",function(){e.CHM(s);const c=e.MAs(21);return e.KtG(i.activity&&i.openApproveModal(c,i.activity))}),e._uU(9,"Approve"),e.qZA(),e.TgZ(10,"button",7),e._uU(11,"Reject"),e.qZA(),e.TgZ(12,"button",8),e._uU(13,"Delete"),e.qZA()()(),e.TgZ(14,"div",9)(15,"div",10),e._uU(16),e.ALo(17,"date"),e.qZA()()(),e.YNc(18,Yt,4,0,"div",11),e.YNc(19,ni,78,26,"div",12),e.qZA(),e.YNc(20,si,20,2,"ng-template",null,13,e.W1O)}2&o&&(e.xp6(8),e.Q6J("disabled",!i.activity||i.activity.approved),e.xp6(8),e.hij("Posted Date and Time : ",e.xi3(17,4,null==i.activity?null:i.activity.createdDate,"dd-MM-yyyy HH:mm"),""),e.xp6(2),e.Q6J("ngIf",i.isLoading),e.xp6(1),e.Q6J("ngIf",i.activity&&!i.isLoading))},dependencies:[f.sg,f.O5,v.uo,v.xl,f.uU]})}return n})();E.O3h.registerModules([E.ea9]);const li=[{path:"",component:$},{path:"register-new-vendor",component:K},{path:"activity-details/:id",component:ai},{path:"activity-edit/:id",component:K}];let ri=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#i=this.\u0275inj=e.cJS({imports:[H.m,f.ez,r.u5,v.bz,Y.sF,j.UO,r.UX,v.IJ,b.Bz.forChild(li)]})}return n})()}}]);